<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAYAN</title>
</head>
<body>
    <script>
        // The encrypted string is injected here:
        let encrypted = "PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEiPgogICAgPHRpdGxlPkppb1RWIENyaWNrZXQgV2lkZ2V0PC90aXRsZT4KCjxsaW5rIHJlbD0icHJlY29ubmVjdCIgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbSI+CjxsaW5rIHJlbD0icHJlY29ubmVjdCIgaHJlZj0iaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbSIgY3Jvc3NvcmlnaW4+CjxsaW5rIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9QWxhdGEmZmFtaWx5PUFtYXJhbnRoOml0YWwsd2dodEAwLDQwMDswLDcwMDsxLDcwMCZmYW1pbHk9TW9tbytUcnVzdCtEaXNwbGF5JmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9pY29uP2ZhbWlseT1NYXRlcmlhbCtJY29ucyIgcmVsPSJzdHlsZXNoZWV0IiAvPgoKPHN0eWxlPgovKiAtLS0gRm9udCBGb3JjZSBGaXggKOCmuOCmrOCmleCmv+Cmm+CngeCmsCDgppPgpqrgprAg4Kar4Kao4KeN4KafIOCmleCmvuCmnCDgppXgprDgpr7gpqjgp4vgprAg4Kac4Kao4KeN4KavKSAtLS0gKi8KaHRtbCwgYm9keSwgZGl2LCBzcGFuLCBwLCBhLCBoMSwgaDIsIGgzLCBoNCwgYiwgaSwgLnZpZXcsIC5mb290ZXIsIC5mb290ZXJfX3RpdGxlLCAuY2FyZCwgLm1hdGNoLWNhcmQgewogICAgZm9udC1mYW1pbHk6ICdBbGF0YScsIHNhbnMtc2VyaWYgIWltcG9ydGFudDsKfQoKaDMsIC5wb3B1cC1jYXJkIGgzIHsgCiAgICBjb2xvcjogI2ZmZmZmZiAhaW1wb3J0YW50OyAvKiDgpo/gpp/gpr8g4Kay4KeH4KaW4Ka+4KaV4KeHIOCmuOCmvuCmpuCmviDgppXgprDgp4cg4Kam4KeH4Kas4KeHICovCiAgICBtYXJnaW46IDAgMCAxMHB4OyAKICAgIGZvbnQtc2l6ZTogMjJweDsgCiAgICBmb250LXdlaWdodDogNzAwOyAKICAgIGZvbnQtZmFtaWx5OiAnQW1hcmFudGgnLCBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7Cn0KCgovKiAtLS0gQmFja2dyb3VuZCBGaXggLS0tICovCmJvZHkgeyAKICAgIGJhY2tncm91bmQtY29sb3I6ICMxYTFhMWEgIWltcG9ydGFudDsgCiAgICBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IAp9CgovKiAtLS0gUG9wdXAgU3lzdGVtIENTUyAtLS0gKi8KLnBvcHVwLWJhY2tkcm9wIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsgaW5zZXQ6IDA7IGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC44NSk7IHotaW5kZXg6IDEwMDA1OwogICAgZGlzcGxheTogbm9uZTsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig1cHgpOwp9Ci5wb3B1cC1jYXJkIHsKICAgIHdpZHRoOiA4NSU7IG1heC13aWR0aDogMzIwcHg7IGJhY2tncm91bmQ6ICMxYzIyMmQ7IGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wOCk7IAogICAgYm9yZGVyLXJhZGl1czogMjhweDsgcGFkZGluZzogNDVweCAyMnB4IDMwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgcG9zaXRpb246IHJlbGF0aXZlOyBhbmltYXRpb246IHNsaWRlVXAgMC40cyBlYXNlLW91dDsKfQpAa2V5ZnJhbWVzIHNsaWRlVXAgeyBmcm9tIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDIwcHgpOyBvcGFjaXR5OiAwOyB9IHRvIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyBvcGFjaXR5OiAxOyB9IH0KCi5jbG9zZS1idG4gewogICAgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDE1cHg7IHJpZ2h0OiAxNXB4OyBjb2xvcjogIzk0YTNiODsgY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDI0cHg7Cn0KLmljb24tY2lyY2xlIHsKICAgIHdpZHRoOiA2MnB4OyBoZWlnaHQ6IDYycHg7IGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyMTUsIDAsIDAuMSk7IGJvcmRlci1yYWRpdXM6IDUwJTsgCiAgICBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgbWFyZ2luOiAwIGF1dG8gMThweDsKfQoucG9wdXAtY2FyZCBwIHsgbWFyZ2luOiAwOyBmb250LXNpemU6IDEzLjVweDsgY29sb3I6ICM5NGEzYjg7IGxpbmUtaGVpZ2h0OiAxLjU7IH0KCi8qIEJ1dHRvbnMgKi8KLmJ0bi1qb2luLCAuYnRuLWFscmVhZHkgewogICAgd2lkdGg6IDEwMCU7IHBhZGRpbmc6IDE0cHggMDsgYm9yZGVyLXJhZGl1czogMTRweDsgZm9udC13ZWlnaHQ6IDcwMDsgCiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7IGRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDE2cHg7IGJvcmRlcjogbm9uZTsgY3Vyc29yOiBwb2ludGVyOyB0cmFuc2l0aW9uOiAwLjJzOwp9Ci5idG4tam9pbiB7IGJhY2tncm91bmQ6ICNGRkQ3MDA7IGNvbG9yOiAjMDAwICFpbXBvcnRhbnQ7IG1hcmdpbi10b3A6IDI1cHg7IH0KLmJ0bi1hbHJlYWR5IHsgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA4KTsgY29sb3I6ICNmZmZmZmYgIWltcG9ydGFudDsgbWFyZ2luLXRvcDogMTJweDsgfQo8L3N0eWxlPgogICAgCiAgICA8c3R5bGU+CiAgICAgICAgLmZvb3Rlci0taGlkZGVuIHsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICB9CiAgICAgICAgLyogSGlkZSBUYWJvb2xhIGFkIGNvbnRhaW5lciAqLwojcmJveC1jMm0sCi50cmNfcmJveF9kaXYsCmRpdltpZF49InJib3gtIl0gewogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogICAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7CiAgICBoZWlnaHQ6IDAgIWltcG9ydGFudDsKICAgIHdpZHRoOiAwICFpbXBvcnRhbnQ7Cn0KI2FkLTEgewogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogICAgdmlzaWJpbGl0eTogaGlkZGVuICFpbXBvcnRhbnQ7CiAgICBoZWlnaHQ6IDAgIWltcG9ydGFudDsKICAgIHdpZHRoOiAwICFpbXBvcnRhbnQ7Cn0KCiAgICA8L3N0eWxlPgo8L2hlYWQ+Cgo8Ym9keT4KPGRpdiBjbGFzcz0icG9wdXAtYmFja2Ryb3AiIGlkPSJwb3B1cCI+CiAgPGRpdiBjbGFzcz0icG9wdXAtY2FyZCI+CiAgICA8aSBjbGFzcz0ibWF0ZXJpYWwtaWNvbnMgY2xvc2UtYnRuIiBvbmNsaWNrPSJjbG9zZVBvcHVwKCkiPsOXPC9pPgogICAgCiAgICA8ZGl2IGNsYXNzPSJpY29uLWNpcmNsZSI+CiAgICAgIDxzdmcgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9IiNGRkQ3MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICAgICAgPHBhdGggZD0iTTEyLjAzMSAyQzYuNTA4IDIgMi4wMTYgNi40OTIgMi4wMTYgMTIuMDE2YzAgMS43NzYuNDYgMy41MTggMS4zMzQgNS4wOEwyLjAzIDIybDQuOTk2LTEuMzA2YzEuNTE2LjgyNiAzLjIzNiAxLjI2MiA1LjAwNSAxLjI2MiA1LjUyMiAwIDEwLjAxNS00LjQ5MiAxMC4wMTUtMTAuMDE2UzE3LjU1MyAyIDEyLjAzMSAyem0wIDE4LjI1N2MtMS41NSAwLTMuMDctLjQwNC00LjQyLTEuMTdsLS4zMTYtLjE4LTMuMjY4Ljg1NS44NzQtMy4xODUtLjIwNy0uMzNhOC4xNyA4LjE3IDAgMCAxLTEuMjU2LTQuMzMxYzAtNC41NDIgMy42OTYtOC4yMzggOC4yNC04LjIzOCA0LjU0MyAwIDguMjM5IDMuNjk2IDguMjM5IDguMjM4IDAgNC41NDItMy42OTIgOC4zMTEtNy44ODYgOC4zMTF6bTQuNTEyLTYuMjA4Yy0uMjQ3LS4xMjQtMS40NjQtLjcyMy0xLjY5LS44MDUtLjIyNy0uMDgzLS4zOTItLjEyNC0uNTU3LjEyNC0uMTY1LjI0Ny0uNjQuODA1LS43ODQuOTctLjE0NC4xNjUtLjI4OC4xODUtLjUzNi4wNjItMS4wNzctLjUzNS0xLjk5LTEuMTMyLTIuNzc4LTIuNDg2LS4yMDYtLjM1LS4wMjItLjU0LjEwMi0uNjYzLjExMy0uMTEzLjI0Ny0uMjkuMzctLjQzNC4xMjQtLjE0NC4xNjUtLjI0Ny4yNDgtLjQxMi4wODItLjE2NS4wNC0uMzEtLjAyLS40MzQtLjA2Mi0uMTI0LS41NTctMS4zNDItLjc2My0xLjgzNy0uMi0uNDg1LS40MDItLjQyLS41NTctLjQyN2wtLjQ3NC0uMDFjLS4xNjUgMC0uNDMzLjA2Mi0uNjYuMzEtLjIyNi4yNDctLjg2Ni44NDYtLjg2NiAyLjA2NCAwIDEuMjE4Ljg4NyAyLjM5NCAxLjAxIDIuNTYuMTI0LjE2NCAxLjc0NCAyLjY2MiA0LjIyNSAzLjczMyAxLjYzOC43MDcgMi4yNzMuNzA3IDMuMDg1LjU4NC44OTgtLjEzNiAxLjQ2NC0uNTk4IDEuNjctLjkyOS4yMDYtLjMzLjE2NS0uNTc4LjEwMy0uNjgxLS4wNjItLjEwNC0uMjI3LS4xNjUtLjQ3NS0uMjl6Ii8+CiAgICAgIDwvc3ZnPgogICAgPC9kaXY+CgogICAgPGgzPvCdl5bwnZel8J2XnPCdl5bwnZee8J2XmPCdl6cg8J2XofCdl5jwnZeq8J2XpiDwnZej8J2XovCdl5zwnZeh8J2XpyDihKI8L2gzPgogICAgPHA+Sm9pbiBvdXIgV2hhdHNBcHAgQ2hhbm5lbCBmb3IgYmFja3VwIGxpbmtzICYgaW5zdGFudCBtYXRjaCB1cGRhdGVzLjwvcD4KCiAgICA8YSBocmVmPSJodHRwczovL3doYXRzYXBwLmNvbS9jaGFubmVsLzAwMjlWYWV5bFlZQlB6alZOb21XdVowVCIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJidG4tam9pbiIgb25jbGljaz0iY2xvc2VQb3B1cCgpIj5Kb2luIE5vdzwvYT4KICAgIDxidXR0b24gY2xhc3M9ImJ0bi1hbHJlYWR5IiBvbmNsaWNrPSJjbG9zZVBvcHVwKCkiPkFscmVhZHkgSm9pbmVkPC9idXR0b24+CiAgICAKICA8L2Rpdj4KPC9kaXY+CgogICAgPGRpdiBjbGFzcz0idmlldyI+PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJzdGlja2VyLXNlY3Rpb24iPjwvZGl2Pgo8ZGl2IGNsYXNzPSJmb290ZXIgZm9vdGVyLS1oaWRkZW4iIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHdpZHRoOiAxMDAlOyBwYWRkaW5nOiAxNXB4IDFyZW07IGFsaWduLWl0ZW1zOiBjZW50ZXI7Ij4KICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNXB4OyI+CiAgICAgICAgPHNwYW4gY2xhc3M9ImZvb3Rlcl9fdGl0bGUiIHN0eWxlPSJtYXJnaW46IDA7IGNvbG9yOiAjY2JkNWUxOyI+UG93ZXJlZCBCeTwvc3Bhbj4gCiAgICAgICAgPHNwYW4gY2xhc3M9ImZvb3Rlcl9fYnJhbmRuYW1lIiBzdHlsZT0ibWFyZ2luOiAwOyI+PGltZyBzcmM9Imh0dHBzOi8vd2lkZ2V0Lmppb25ld3MuY29tL2ppb3R2LWNyaWNrZXQvcHJvZC92MS9hc3NldHMvZXNwbmNyaWNpbmZvLWxvZ28uc3ZnIiBzdHlsZT0iaGVpZ2h0OiAxNHB4OyIgLz48L3NwYW4+CiAgICA8L2Rpdj4KICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMC43NXJlbTsgY29sb3I6ICM5NGEzYjg7IGZvbnQtd2VpZ2h0OiA1MDA7IGZvbnQtZmFtaWx5OiAnUG9wcGlucycsIHNhbnMtc2VyaWY7Ij4KICAgICAgICBTYXlhbiAyMDI2IHwgQWxsIFJpZ2h0IFJlY2VpdmVkCiAgICA8L2Rpdj4KPC9kaXY+CgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vd2lkZ2V0Lmppb25ld3MuY29tL2Fzc2V0cy93aWRnZXRfc2RrL3YxLjAvZGlzdC9qaW9uZXdzX3Nkay5taW4uanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdD4KICAgICAgICAvKiEgRm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gcGxlYXNlIHNlZSBtYWluLmExZDlhODM2NjhjNmEwZjdmODE0LmpzLkxJQ0VOU0UudHh0ICovCiAgICAgICAgKCgpID0+IHsgInVzZSBzdHJpY3QiOyB2YXIgZSA9IHsgMzExOiAoZSwgdCwgYSkgPT4geyBhLmQodCwgeyBBOiAoKSA9PiBzIH0pOyB2YXIgciA9IGEoNjAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBhLm4ociksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID0gYSgzMTQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGEubihvKSgpKG4oKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGkucHVzaChbZS5pZCwgJyosKjo6YmVmb3JlLCo6OmFmdGVye21hcmdpbjowO3BhZGRpbmc6MDtib3gtc2l6aW5nOmJvcmRlci1ib3h9YXJ0aWNsZSxhc2lkZSxkZXRhaWxzLGZpZ2NhcHRpb24sZmlndXJlLGZvb3RlcixoZWFkZXIsbWFpbixuYXYsc2VjdGlvbixzdW1tYXJ5e2Rpc3BsYXk6YmxvY2t9Ym9keXtmb250LWZhbWlseToiSmlvVHlwZSIsaGVsdmV0aWNhLGFyaWFsLHNhbnMtc2VyaWY7bGluZS1oZWlnaHQ6MS41O2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3ItYmFja2dyb3VuZCl9YXt0ZXh0LWRlY29yYXRpb246bm9uZTtjb2xvcjppbmhlcml0O291dGxpbmU6bm9uZX11bCxvbHtsaXN0LXN0eWxlOm5vbmV9aW1ne21heC13aWR0aDoxMDAlO2hlaWdodDphdXRvfWJ1dHRvbixpbnB1dCxzZWxlY3QsdGV4dGFyZWF7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lO2JhY2tncm91bmQ6bm9uZTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtc2l6ZTppbmhlcml0O2xpbmUtaGVpZ2h0OmluaGVyaXR9dGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2JvcmRlci1zcGFjaW5nOjB9aHRtbHtmb250LXNpemU6MTZweH1odG1sLGJvZHl7aGVpZ2h0OjEwMCV9QGZvbnQtZmFjZXtmb250LWZhbWlseTpKaW9UeXBlO3NyYzp1cmwoaHR0cHM6Ly9kZXYtamlvc3RhdGljLmF6dXJld2Vic2l0ZXMubmV0L3N0YXRpYy9mb250cy9KaW9UeXBlL0ppb1R5cGUtTWVkaXVtLndvZmYyKSBmb3JtYXQoIndvZmYyIiksdXJsKGh0dHBzOi8vZGV2LWppb3N0YXRpYy5henVyZXdlYnNpdGVzLm5ldC9zdGF0aWMvZm9udHMvSmlvVHlwZS9KaW9UeXBlLU1lZGl1bS53b2ZmKSBmb3JtYXQoIndvZmYiKSx1cmwoaHR0cHM6Ly9kZXYtamlvc3RhdGljLmF6dXJld2Vic2l0ZXMubmV0L3N0YXRpYy9mb250cy9KaW9UeXBlL0ppb1R5cGUtTWVkaXVtLnR0ZikgZm9ybWF0KCJ0cnVldHlwZSIpO2ZvbnQtd2VpZ2h0OjUwMDtmb250LXN0eWxlOm5vcm1hbDtmb250LWRpc3BsYXk6c3dhcH1ib2R5LnRoZW1lLWRhcmt7YmFja2dyb3VuZC1jb2xvcjojMDAwfS52aWV3e3BhZGRpbmc6MXJlbTttaW4taGVpZ2h0OmNhbGMoMTAwdmggLSAzNnB4KTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5sb2FkZXJ7Ym9yZGVyLXRvcDoxMHB4IHNvbGlkICNkYjM0MzQ7Ym9yZGVyLXJhZGl1czo1MCU7d2lkdGg6MTAwcHg7aGVpZ2h0OjEwMHB4O21hcmdpbjphdXRvO3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDo1MHB4O2FuaW1hdGlvbjpzcGluIDJzIGxpbmVhciBpbmZpbml0ZX0uZm9vdGVye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDo1cHg7bWFyZ2luLXRvcDphdXRvO3BhZGRpbmc6MCAxcmVtfS5mb290ZXItLWhpZGRlbntkaXNwbGF5Om5vbmV9LmZvb3Rlcl9fdGl0bGV7Zm9udC1zaXplOi43NXJlbTttYXJnaW4tYm90dG9tOjhweDtjb2xvcjojMmIyYjJifS5mb290ZXJfX2JyYW5kbmFtZXtjb2xvcjojMmIyYjJiO2ZvbnQtc2l6ZTouNzVyZW07Zm9udC13ZWlnaHQ6OTAwO21hcmdpbi1ib3R0b206OHB4O2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3d9LmZvb3Rlcl9fYnJhbmRuYW1lIGltZ3toZWlnaHQ6MTJweDttYXJnaW4tYm90dG9tOjRweH0uZm9vdGVyX19qaW9uZXdzLWxvZ297ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdzttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1ib3R0b206OHB4fS5mb290ZXJfX2ppb25ld3MtbG9nbyBzcGFue2ZvbnQtc2l6ZTouNzVyZW07Zm9udC13ZWlnaHQ6NzAwO2xpbmUtaGVpZ2h0Oi43NXJlbTtjb2xvcjojMmIyYjJiO3BhZGRpbmctbGVmdDouMjVyZW07bWFyZ2luLXRvcDphdXRvO21hcmdpbi1ib3R0b206YXV0b31ib2R5LnRoZW1lLWRhcmsgLmZvb3Rlcl9fdGl0bGV7Y29sb3I6I2UwZTBlMH1ib2R5LnRoZW1lLWRhcmsgLmZvb3Rlcl9fYnJhbmRuYW1le2NvbG9yOiNlMGUwZTB9Ym9keS50aGVtZS1kYXJrIC5mb290ZXJfX2ppb25ld3MtbG9nbyBzcGFue2NvbG9yOiNlMGUwZTB9JywgIiJdKTsgY29uc3QgcyA9IGkgfSwgMzc0OiAoZSwgdCwgYSkgPT4geyBhLmQodCwgeyBBOiAoKSA9PiBzIH0pOyB2YXIgciA9IGEoNjAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBhLm4ociksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID0gYSgzMTQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGEubihvKSgpKG4oKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGkucHVzaChbZS5pZCwgJy5jYXJke2JhY2tncm91bmQ6IzE0MTQxNDtwYWRkaW5nOjFyZW07Ym9yZGVyLXJhZGl1czouNjJyZW07bWFyZ2luOjFyZW0gMHJlbTtnYXA6MXJlbTtib3JkZXI6MXB4IHNvbGlkICM1ZDVkNWQ7Y29sb3I6I2UwZTBlMDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5jYXJkX19saXZlLXRhZ3tiYWNrZ3JvdW5kLWNvbG9yOiMyYjJiMmI7Ym9yZGVyLXJhZGl1czoxNnB4O3BhZGRpbmc6NHB4IDEycHg7Zm9udC1zaXplOjEycHg7Y29sb3I6I2UwMjkzNDtmb250LXdlaWdodDo3MDA7d2lkdGg6Zml0LWNvbnRlbnQ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjE2cHg7cmlnaHQ6MzZweH0uY2FyZF9fbGl2ZS10YWc6OmJlZm9yZXtjb250ZW50OiIiO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjhweDtoZWlnaHQ6OHB4O2JhY2tncm91bmQtY29sb3I6I2UwMjkzNDtib3JkZXItcmFkaXVzOjUwJTttYXJnaW4tcmlnaHQ6NXB4O2FuaW1hdGlvbi1uYW1lOmxpdmV0YWc7YW5pbWF0aW9uLWR1cmF0aW9uOjFzO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246bGluZWFyO2FuaW1hdGlvbi1kaXJlY3Rpb246YWx0ZXJuYXRlO2FuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6aW5maW5pdGV9LmNhcmRfX3RvcC1yb3d7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvd30uY2FyZF9fbWF0Y2gtaW5mby1zZXJpZXMtbmFtZXtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo3MDB9LmNhcmRfX21hdGNoLWluZm8tc2VyaWVzLW5hbWUgLmRvdC1zZXBlcmF0b3J7ZGlzcGxheTppbmxpbmUtYmxvY2s7Ym9yZGVyLXJhZGl1czo1MCU7aGVpZ2h0OjRweDt3aWR0aDo0cHg7YmFja2dyb3VuZC1jb2xvcjojZTBlMGUwfS5jYXJkX19tYXRjaC1pbmZvLW1hdGNoLW5hbWV7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6MzAwfS5jYXJkX19tYXRjaC1pbmZvLW1hdGNoLW5hbWUgLmRvdC1zZXBlcmF0b3J7ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7Ym9yZGVyLXJhZGl1czo1MCU7aGVpZ2h0OjRweDt3aWR0aDo0cHg7YmFja2dyb3VuZC1jb2xvcjojZTBlMGUwO3RvcDotMnB4fS5jYXJkX19tYXRjaC1pbmZvLXZlbnVle2ZvbnQtc2l6ZToxMnB4O2ZvbnQtd2VpZ2h0OjMwMH0uY2FyZF9fZXhwYW5kZXJ7bWFyZ2luLWxlZnQ6YXV0b30uY2FyZF9fZXhwYW5kZXIuaGlkZGVuLC5jYXJkX19leHBhbmRlciBzdmcuaGlkZGVue2Rpc3BsYXk6bm9uZX0uY2FyZF9fdGVhbS1zY29yZS1kZXRhaWxze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LmNhcmRfX3RlYW0tc2NvcmUtZGV0YWlsc19fdmVyc3VzLXRleHR7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6NzAwO21hcmdpbi10b3A6NXB4fS5jYXJkX190ZWFtLTEtc2NvcmUtZGV0YWlscywuY2FyZF9fdGVhbS0yLXNjb3JlLWRldGFpbHN7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uY2FyZF9fdGVhbS0xLXNjb3JlLWRldGFpbHNfX3RvcC1yb3csLmNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX190b3Atcm93e2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7Z2FwOjhweDthbGlnbi1pdGVtczpjZW50ZXJ9LmNhcmRfX3RlYW0tMS1zY29yZS1kZXRhaWxzX19jYXB0YWluLWltZywuY2FyZF9fdGVhbS0yLXNjb3JlLWRldGFpbHNfX2NhcHRhaW4taW1ne3dpZHRoOjMwcHg7aGVpZ2h0OjMwcHg7Ym9yZGVyLXJhZGl1czoyLjVweDtvdmVyZmxvdzpoaWRkZW59LmNhcmRfX3RlYW0tMS1zY29yZS1kZXRhaWxzX19jYXB0YWluLWltZy5oaWRkZW4sLmNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX19jYXB0YWluLWltZy5oaWRkZW57ZGlzcGxheTpub25lfS5jYXJkX190ZWFtLTEtc2NvcmUtZGV0YWlsc19fY2FwdGFpbi1pbWcgaW1nLC5jYXJkX190ZWFtLTItc2NvcmUtZGV0YWlsc19fY2FwdGFpbi1pbWcgaW1ne3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LmNhcmRfX3RlYW0tMS1zY29yZS1kZXRhaWxzX190ZWFtLW5hbWUsLmNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX190ZWFtLW5hbWV7Zm9udC13ZWlnaHQ6NzAwfS5jYXJkX190ZWFtLTEtc2NvcmUtZGV0YWlsc19fdGVhbS1sb2dvLC5jYXJkX190ZWFtLTItc2NvcmUtZGV0YWlsc19fdGVhbS1sb2dve3dpZHRoOjMwcHg7aGVpZ2h0OjMwcHg7Ym9yZGVyLXJhZGl1czoyLjVweDtvdmVyZmxvdzpoaWRkZW59LmNhcmRfX3RlYW0tMS1zY29yZS1kZXRhaWxzX190ZWFtLWxvZ28gaW1nLC5jYXJkX190ZWFtLTItc2NvcmUtZGV0YWlsc19fdGVhbS1sb2dvIGltZ3t3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5jYXJkX190ZWFtLTEtc2NvcmUtZGV0YWlsc19fYm90dG9tLXJvdywuY2FyZF9fdGVhbS0yLXNjb3JlLWRldGFpbHNfX2JvdHRvbS1yb3d7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjttYXJnaW4tdG9wOjhweDt0ZXh0LWFsaWduOmNlbnRlcn0uY2FyZF9fdGVhbS0xLXNjb3JlLWRldGFpbHNfX2JvdHRvbS1yb3dfX3J1bnMsLmNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX19ib3R0b20tcm93X19ydW5ze2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjcwMH0uY2FyZF9fdGVhbS0xLXNjb3JlLWRldGFpbHNfX2JvdHRvbS1yb3dfX292ZXJzLC5jYXJkX190ZWFtLTItc2NvcmUtZGV0YWlsc19fYm90dG9tLXJvd19fb3ZlcnN7Zm9udC1zaXplOjEycHh9LmNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX190b3Atcm93e21hcmdpbi1sZWZ0OmF1dG99LmNhcmRfX21hdGNoLXN0YXR1cy1yb3d7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjEycHh9LmNhcmRfX2xpdmUtdGFic3tkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O3dpZHRoOmZpdC1jb250ZW50O2p1c3RpZnktY29udGVudDpjZW50ZXI7Z2FwOjE2cHg7d2lkdGg6MTAwJX0uY2FyZF9fbGl2ZS10YWJzLmhpZGRlbntkaXNwbGF5Om5vbmV9LmNhcmRfX2xpdmUtdGFie2JhY2tncm91bmQtY29sb3I6IzJiMmIyYjtib3JkZXItcmFkaXVzOjE2cHg7cGFkZGluZzo0cHggMjRweDtjb2xvcjojZjVmNWY1O2ZvbnQtc2l6ZToxMnB4O2JvcmRlcjoxcHggc29saWQgIzVkNWQ1ZDt3aGl0ZS1zcGFjZTpub3dyYXB9LmNhcmRfX2xpdmUtdGFiLS1zZWxlY3RlZHtib3JkZXI6MXB4IHNvbGlkICNjMTE1Mzl9QGtleWZyYW1lcyBsaXZldGFnezAle29wYWNpdHk6LjJ9MjUle29wYWNpdHk6LjN9NTAle29wYWNpdHk6LjV9NzUle29wYWNpdHk6Ljc1fTEwMCV7b3BhY2l0eToxfX0nLCAiIl0pOyBjb25zdCBzID0gaSB9LCA3MzI6IChlLCB0LCBhKSA9PiB7IGEuZCh0LCB7IEE6ICgpID0+IHMgfSk7IHZhciByID0gYSg2MDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGEubihyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBhKDMxNCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gYS5uKG8pKCkobigpKTsKICAgICAgICAgICAgICAgICAgICAgICAgaS5wdXNoKFtlLmlkLCAiLmNhcmRfX2NvbW1lbnRhcnl7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtnYXA6OHB4fS5jYXJkX19jb21tZW50YXJ5LmhpZGRlbntkaXNwbGF5Om5vbmV9LmNhcmRfX2NvbW1lbnRhcnktcm93e2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7Z2FwOjE2cHg7YWxpZ24taXRlbXM6Y2VudGVyfS5jYXJkX19jb21tZW50YXJ5LWJhbGwtbnVtYmVye2NvbG9yOiNmNWY1ZjU7Zm9udC1zaXplOjEycHg7bWluLXdpZHRoOjQwcHg7dGV4dC1hbGlnbjpjZW50ZXJ9LmNhcmRfX2NvbW1lbnRhcnktYmFsbC1ydW5ze2JvcmRlci1yYWRpdXM6NTAlO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjcwMDtiYWNrZ3JvdW5kLWNvbG9yOiNhMWExYTE7Y29sb3I6IzE0MTQxNDttaW4td2lkdGg6NDBweDtoZWlnaHQ6NDBweDtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93fS5jYXJkX19jb21tZW50YXJ5LWJhbGwtcnVucy0tc2l4e2JhY2tncm91bmQtY29sb3I6IzAzNzUzYztjb2xvcjojZjVmNWY1fS5jYXJkX19jb21tZW50YXJ5LWJhbGwtcnVucy0tZm91cntiYWNrZ3JvdW5kLWNvbG9yOiMwMDc4YWQ7Y29sb3I6I2Y1ZjVmNX0uY2FyZF9fY29tbWVudGFyeS1iYWxsLXJ1bnMtLXdpY2tldHtiYWNrZ3JvdW5kLWNvbG9yOiNhODAwMDA7Y29sb3I6I2Y1ZjVmNX0uY2FyZF9fY29tbWVudGFyeS1iYWxsLXJ1bnMgc3BhbnttYXJnaW46YXV0b30uY2FyZF9fY29tbWVudGFyeS1kZXRhaWxze2NvbG9yOiNmNWY1ZjU7Zm9udC1zaXplOjEycHh9IiwgIiJdKTsgY29uc3QgcyA9IGkgfSwgNTg0OiAoZSwgdCwgYSkgPT4geyBhLmQodCwgeyBBOiAoKSA9PiBzIH0pOyB2YXIgciA9IGEoNjAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBhLm4ociksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID0gYSgzMTQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGEubihvKSgpKG4oKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGkucHVzaChbZS5pZCwgIi5sb2FkZXItbG9nb3ttYXJnaW46YXV0bzthbmltYXRpb246bG9nbyAxLjVzIGxpbmVhciBpbmZpbml0ZTt0ZXh0LWFsaWduOmNlbnRlcn0ubG9hZGVyLWxvZ28gc3Zne3dpZHRoOjgwcHg7aGVpZ2h0OjgwcHh9LmxvYWRlci1sb2dvX190ZXh0e2NvbG9yOiMyYjJiMmI7Zm9udC1zaXplOjEuNXJlbTtmb250LXdlaWdodDo3MDB9QGtleWZyYW1lcyBsb2dvezAle3RyYW5zZm9ybTpzY2FsZSgwLjUpfTUwJXt0cmFuc2Zvcm06c2NhbGUoMC43KX0xMDAle3RyYW5zZm9ybTpzY2FsZSgwLjUpfX1ib2R5LnRoZW1lLWRhcmsgLmxvYWRlci1sb2dvX190ZXh0e2NvbG9yOiNlMGUwZTB9IiwgIiJdKTsgY29uc3QgcyA9IGkgfSwgMTU4OiAoZSwgdCwgYSkgPT4geyBhLmQodCwgeyBBOiAoKSA9PiBzIH0pOyB2YXIgciA9IGEoNjAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBhLm4ociksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID0gYSgzMTQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGEubihvKSgpKG4oKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGkucHVzaChbZS5pZCwgIi5jYXJkX19iYWxsLWJ5LWJhbGwtcm93e2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7Z2FwOjhweDtvdmVyZmxvdzpzY3JvbGx9LmNhcmRfX2JhbGwtYnktYmFsbC1yb3c6Oi13ZWJraXQtc2Nyb2xsYmFye2Rpc3BsYXk6bm9uZX0uY2FyZF9fYmFsbC1ieS1iYWxsLXJvdy5oaWRkZW57ZGlzcGxheTpub25lfS5jYXJkX19vdmVyLWJveC13cmFwcGVye2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59LmNhcmRfX292ZXItYm94e2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7Z2FwOjFweH0uY2FyZF9fb3Zlci1ib3gtdGl0bGV7Y29sb3I6I2I1YjViNTtmb250LXNpemU6MTBweH0uY2FyZF9fYmFsbC1ib3h7cGFkZGluZzo0cHg7Zm9udC1zaXplOjEycHg7YmFja2dyb3VuZC1jb2xvcjojMmIyYjJiO21pbi13aWR0aDoxNXB4fS5jYXJkX19iYWxsLWJveC0tc2l4e2JhY2tncm91bmQtY29sb3I6IzAzNzUzY30uY2FyZF9fYmFsbC1ib3gtLWZvdXJ7YmFja2dyb3VuZC1jb2xvcjojMDA3OGFkfS5jYXJkX19iYWxsLWJveC0td2lja2V0e2JhY2tncm91bmQtY29sb3I6I2E4MDAwMH0iLCAiIl0pOyBjb25zdCBzID0gaSB9LCAxMTA6IChlLCB0LCBhKSA9PiB7IGEuZCh0LCB7IEE6ICgpID0+IHMgfSk7IHZhciByID0gYSg2MDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGEubihyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBhKDMxNCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gYS5uKG8pKCkobigpKTsKICAgICAgICAgICAgICAgICAgICAgICAgaS5wdXNoKFtlLmlkLCAiLmNhcmRfX3BvaW50cy10YWJsZS13cmFwcGVyLmhpZGRlbntkaXNwbGF5Om5vbmV9LmNhcmRfX3BvaW50cy10YWJsZXt3aWR0aDoxMDAlO21hcmdpbi1ib3R0b206MXJlbX0uY2FyZF9fcG9pbnRzLXRhYmxlLWhlYWRlcntmb250LXNpemU6MTJweDtmb250LXdlaWdodDo3MDA7Y29sb3I6I2ZmZn0uY2FyZF9fcG9pbnRzLXRhYmxlIHRoZWFke2ZvbnQtc2l6ZToxMHB4O2NvbG9yOiM4ZThlOGU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzJiMmIyYn0uY2FyZF9fcG9pbnRzLXRhYmxlIHRoZWFkIHRoe3RleHQtYWxpZ246bGVmdDtwYWRkaW5nOjRweCAwfS5jYXJkX19wb2ludHMtdGFibGUgdGJvZHl7Zm9udC1zaXplOjEycHg7Y29sb3I6I2Y1ZjVmNX0uY2FyZF9fcG9pbnRzLXRhYmxlIHRib2R5IHRke3BhZGRpbmc6NHB4IDA7d2lkdGg6MTMlfS5jYXJkX19wb2ludHMtdGFibGUgdGJvZHkgdGQ6Zmlyc3QtY2hpbGR7d2lkdGg6MzAlfSIsICIiXSk7IGNvbnN0IHMgPSBpIH0sIDY2MDogKGUsIHQsIGEpID0+IHsgYS5kKHQsIHsgQTogKCkgPT4gcyB9KTsgdmFyIHIgPSBhKDYwMSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0gYS5uKHIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA9IGEoMzE0KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBhLm4obykoKShuKCkpOwogICAgICAgICAgICAgICAgICAgICAgICBpLnB1c2goW2UuaWQsICIuY2FyZF9fc2NvcmUtdGFibGUtcm93LmhpZGRlbntkaXNwbGF5Om5vbmV9LmNhcmRfX2JhdHRpbmctdGFibGUsLmNhcmRfX2Jvd2xpbmctdGFibGV7d2lkdGg6MTAwJX0uY2FyZF9fYmF0dGluZy10YWJsZSB0aGVhZCwuY2FyZF9fYm93bGluZy10YWJsZSB0aGVhZHtmb250LXNpemU6MTBweDtjb2xvcjojOGU4ZThlO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMyYjJiMmJ9LmNhcmRfX2JhdHRpbmctdGFibGUgdGhlYWQgdGgsLmNhcmRfX2Jvd2xpbmctdGFibGUgdGhlYWQgdGh7dGV4dC1hbGlnbjpsZWZ0O3BhZGRpbmc6NHB4IDB9LmNhcmRfX2JhdHRpbmctdGFibGUgdGJvZHksLmNhcmRfX2Jvd2xpbmctdGFibGUgdGJvZHl7Zm9udC1zaXplOjEycHg7Y29sb3I6I2Y1ZjVmNX0uY2FyZF9fYmF0dGluZy10YWJsZSB0Ym9keSB0ZCwuY2FyZF9fYm93bGluZy10YWJsZSB0Ym9keSB0ZHtwYWRkaW5nOjRweCAwO3dpZHRoOjEzJX0uY2FyZF9fYmF0dGluZy10YWJsZSB0Ym9keSB0ZDpmaXJzdC1jaGlsZCwuY2FyZF9fYm93bGluZy10YWJsZSB0Ym9keSB0ZDpmaXJzdC1jaGlsZHt3aWR0aDozMCV9IiwgIiJdKTsgY29uc3QgcyA9IGkgfSwgNjg6IChlLCB0LCBhKSA9PiB7IGEuZCh0LCB7IEE6ICgpID0+IHMgfSk7IHZhciByID0gYSg2MDEpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGEubihyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBhKDMxNCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gYS5uKG8pKCkobigpKTsKICAgICAgICAgICAgICAgICAgICAgICAgaS5wdXNoKFtlLmlkLCAiLnN0aWNrZXJze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQ6cmdiYSg3MSwxMzUsMjMxLC4xKTtiYWNrZHJvcC1maWx0ZXI6Ymx1cigzMHB4KTtwYWRkaW5nOjEwcHg7Ym9yZGVyOjFweCBzb2xpZCBoc2xhKDAsMCUsMTAwJSwuMSk7Ym9yZGVyLXJhZGl1czoyNXB4O2JveC1zaGFkb3c6MCA0cHggMTBweCByZ2JhKDAsMCwwLC4yKTtwb3NpdGlvbjpmaXhlZDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDttYXJnaW46LjNyZW0gMXJlbTt0cmFuc2l0aW9uOmJvdHRvbSAuM3MgZWFzZS1pbn0uc3RpY2tlcnNfX2dyb3Vwe2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXJ9LnN0aWNrZXJzX19zY3JvbGxlZHtib3R0b206MzBweH0uc3RpY2tlcnNfX3Jvd3tkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCg1LCA2MHB4KTtqdXN0aWZ5LWl0ZW1zOmNlbnRlcjtnYXA6NHB4O3RyYW5zaXRpb246YWxsIC4zcyBlYXNlLWluLW91dH0uc3RpY2tlcnNfX2V4cGFuZGVke2dyaWQtdGVtcGxhdGUtcm93czpyZXBlYXQoMiwgYXV0byl9LnN0aWNrZXJzX19zdGlja2Vye3dpZHRoOjQwcHg7aGVpZ2h0OjQwcHg7Y3Vyc29yOnBvaW50ZXI7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjJzIGVhc2UtaW4tb3V0fS5zdGlja2Vyc19fc3RpY2tlciBpbWd7d2lkdGg6MTAwJTtoZWlnaHQ6YXV0b30uc3RpY2tlcnNfX2V4cGFuZHtwYWRkaW5nOjVweCAxMHB4O2ZvbnQtc2l6ZToxNnB4O2N1cnNvcjpwb2ludGVyO2JvcmRlcjpub25lO2NvbG9yOnJlZDtib3JkZXItcmFkaXVzOjVweDt0cmFuc2l0aW9uOmJhY2tncm91bmQgLjJzfS5zdGlja2Vyc19fZXhwYW5kIHN2Z3toZWlnaHQ6MzJweDt3aWR0aDozMnB4fS5zdGlja2Vyc19fZmxvYXRpbmd7cG9zaXRpb246YWJzb2x1dGU7bGVmdDp2YXIoLS14LCA1MHZ3KTthbmltYXRpb246ZmxvYXRTdGlja2VyIDRzIGxpbmVhciBpbmZpbml0ZSBhbHRlcm5hdGU7ei1pbmRleDoxMDAxfUBrZXlmcmFtZXMgZmxvYXRTdGlja2VyezAle2JvdHRvbTpjYWxjKDUwcHggLSB2YXIoLS1zY3JvbGwteSkpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCh2YXIoLS14LXJhbmRvbSwgMHB4KSwgMHB4LCAwcHgpIHNjYWxlKDEpO2xlZnQ6Y2xhbXAoMzB2dyx2YXIoLS14LCA1MHZ3KSAtIDUwcHgsNzB2dyl9NTAle2JvdHRvbTpjYWxjKDUwdmggLSB2YXIoLS1zY3JvbGwteSkpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZChjYWxjKHZhcigtLXgtcmFuZG9tLCAwcHgpICogLTEpLCAwcHgsIDBweCkgc2NhbGUoMil9MTAwJXtib3R0b206Y2FsYygxMDB2aCAtIHZhcigtLXNjcm9sbC15KSk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKHZhcigtLXgtcmFuZG9tLCAwcHgpLCAwcHgsIDBweCkgc2NhbGUoMSk7bGVmdDpjbGFtcCgzMHZ3LHZhcigtLXgsIDUwdncpICsgNTBweCw3MHZ3KX19Ym9keS50aGVtZS1kYXJrIC5zdGlja2Vyc19fZXhwYW5ke2NvbG9yOiNmZmZ9IiwgIiJdKTsgY29uc3QgcyA9IGkgfSwgNzU0OiAoZSwgdCwgYSkgPT4geyBhLmQodCwgeyBBOiAoKSA9PiBzIH0pOyB2YXIgciA9IGEoNjAxKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBhLm4ociksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvID0gYSgzMTQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGEubihvKSgpKG4oKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGkucHVzaChbZS5pZCwgIi50YWJzLXdyYXBwZXJ7cGFkZGluZy1sZWZ0OjE2cHg7cGFkZGluZy1yaWdodDoxNnB4O3BhZGRpbmctdG9wOjE2cHg7b3ZlcmZsb3cteDpzY3JvbGx9LnRhYnMtd3JhcHBlcjo6LXdlYmtpdC1zY3JvbGxiYXJ7ZGlzcGxheTpub25lfS50YWJze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7d2lkdGg6Zml0LWNvbnRlbnQ7bWluLXdpZHRoOjEwMHZ3O2dhcDo4cHh9LnRhYnNfX3RvdXJuYW1lbnR7YmFja2dyb3VuZC1jb2xvcjojMTQxNDE0O2JvcmRlci1yYWRpdXM6MTZweDtwYWRkaW5nOjRweCAxNnB4O2NvbG9yOiNmNWY1ZjU7Zm9udC1zaXplOjE0cHg7Ym9yZGVyOjFweCBzb2xpZCAjNWQ1ZDVkO3doaXRlLXNwYWNlOm5vd3JhcH0udGFic19fdG91cm5hbWVudC0tc2VsZWN0ZWR7Ym9yZGVyOjFweCBzb2xpZCAjYzExNTM5fSIsICIiXSk7IGNvbnN0IHMgPSBpIH0sIDMxNDogZSA9PiB7IGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsgdmFyIHQgPSBbXTsgcmV0dXJuIHQudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMubWFwKChmdW5jdGlvbih0KSB7IHZhciBhID0gIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByID0gdm9pZCAwICE9PSB0WzVdOyByZXR1cm4gdFs0XSAmJiAoYSArPSAiQHN1cHBvcnRzICgiLmNvbmNhdCh0WzRdLCAiKSB7IikpLCB0WzJdICYmIChhICs9ICJAbWVkaWEgIi5jb25jYXQodFsyXSwgIiB7IikpLCByICYmIChhICs9ICJAbGF5ZXIiLmNvbmNhdCh0WzVdLmxlbmd0aCA+IDAgPyAiICIuY29uY2F0KHRbNV0pIDogIiIsICIgeyIpKSwgYSArPSBlKHQpLCByICYmIChhICs9ICJ9IiksIHRbMl0gJiYgKGEgKz0gIn0iKSwgdFs0XSAmJiAoYSArPSAifSIpLCBhIH0pKS5qb2luKCIiKSB9LCB0LmkgPSBmdW5jdGlvbihlLCBhLCByLCBuLCBvKSB7ICJzdHJpbmciID09IHR5cGVvZiBlICYmIChlID0gWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbnVsbCwgZSwgdm9pZCAwXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pOyB2YXIgaSA9IHt9OyBpZiAocikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCB0aGlzLmxlbmd0aDsgcysrKSB7IHZhciBjID0gdGhpc1tzXVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT0gYyAmJiAoaVtjXSA9ICEwKSB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBlLmxlbmd0aDsgbCsrKSB7IHZhciBkID0gW10uY29uY2F0KGVbbF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByICYmIGlbZFswXV0gfHwgKHZvaWQgMCAhPT0gbyAmJiAodm9pZCAwID09PSBkWzVdIHx8IChkWzFdID0gIkBsYXllciIuY29uY2F0KGRbNV0ubGVuZ3RoID4gMCA/ICIgIi5jb25jYXQoZFs1XSkgOiAiIiwgIiB7IikuY29uY2F0KGRbMV0sICJ9IikpLCBkWzVdID0gbyksIGEgJiYgKGRbMl0gPyAoZFsxXSA9ICJAbWVkaWEgIi5jb25jYXQoZFsyXSwgIiB7IikuY29uY2F0KGRbMV0sICJ9IiksIGRbMl0gPSBhKSA6IGRbMl0gPSBhKSwgbiAmJiAoZFs0XSA/IChkWzFdID0gIkBzdXBwb3J0cyAoIi5jb25jYXQoZFs0XSwgIikgeyIpLmNvbmNhdChkWzFdLCAifSIpLCBkWzRdID0gbikgOiBkWzRdID0gIiIuY29uY2F0KG4pKSwgdC5wdXNoKGQpKSB9IH0sIHQgfSB9LCA2MDE6IGUgPT4geyBlLmV4cG9ydHMgPSBmdW5jdGlvbihlKSB7IHJldHVybiBlWzFdIH0gfSwgNzI6IGUgPT4geyB2YXIgdCA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYShlKSB7IGZvciAodmFyIGEgPSAtMSwgciA9IDA7IHIgPCB0Lmxlbmd0aDsgcisrKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0W3JdLmlkZW50aWZpZXIgPT09IGUpIHsgYSA9IHI7IGJyZWFrIH0gcmV0dXJuIGEgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcihlLCByKSB7IGZvciAodmFyIG8gPSB7fSwgaSA9IFtdLCBzID0gMDsgcyA8IGUubGVuZ3RoOyBzKyspIHsgdmFyIGMgPSBlW3NdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsID0gci5iYXNlID8gY1swXSArIHIuYmFzZSA6IGNbMF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBvW2xdIHx8IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPSAiIi5jb25jYXQobCwgIiAiKS5jb25jYXQoZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb1tsXSA9IGQgKyAxOyB2YXIgdSA9IGEobSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAgPSB7IGNzczogY1sxXSwgbWVkaWE6IGNbMl0sIHNvdXJjZU1hcDogY1szXSwgc3VwcG9ydHM6IGNbNF0sIGxheWVyOiBjWzVdIH07IGlmICgtMSAhPT0gdSkgdFt1XS5yZWZlcmVuY2VzKyssIHRbdV0udXBkYXRlcihwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgdmFyIF8gPSBuKHAsIHIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByLmJ5SW5kZXggPSBzLCB0LnNwbGljZShzLCAwLCB7IGlkZW50aWZpZXI6IG0sIHVwZGF0ZXI6IF8sIHJlZmVyZW5jZXM6IDEgfSkgfSBpLnB1c2gobSkgfSByZXR1cm4gaSB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBuKGUsIHQpIHsgdmFyIGEgPSB0LmRvbUFQSSh0KTsgcmV0dXJuIGEudXBkYXRlKGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHQpIHsgaWYgKHQpIHsgaWYgKHQuY3NzID09PSBlLmNzcyAmJiB0Lm1lZGlhID09PSBlLm1lZGlhICYmIHQuc291cmNlTWFwID09PSBlLnNvdXJjZU1hcCAmJiB0LnN1cHBvcnRzID09PSBlLnN1cHBvcnRzICYmIHQubGF5ZXIgPT09IGUubGF5ZXIpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEudXBkYXRlKGUgPSB0KSB9IGVsc2UgYS5yZW1vdmUoKSB9IH0gZS5leHBvcnRzID0gZnVuY3Rpb24oZSwgbikgeyB2YXIgbyA9IHIoZSA9IGUgfHwgW10sIG4gPSBuIHx8IHt9KTsgcmV0dXJuIGZ1bmN0aW9uKGUpIHsgZSA9IGUgfHwgW107IGZvciAodmFyIGkgPSAwOyBpIDwgby5sZW5ndGg7IGkrKykgeyB2YXIgcyA9IGEob1tpXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbc10ucmVmZXJlbmNlcy0tIH0gZm9yICh2YXIgYyA9IHIoZSwgbiksIGwgPSAwOyBsIDwgby5sZW5ndGg7IGwrKykgeyB2YXIgZCA9IGEob1tsXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgPT09IHRbZF0ucmVmZXJlbmNlcyAmJiAodFtkXS51cGRhdGVyKCksIHQuc3BsaWNlKGQsIDEpKSB9IG8gPSBjIH0gfSB9LCA2NTk6IGUgPT4geyB2YXIgdCA9IHt9OwogICAgICAgICAgICAgICAgICAgICAgICBlLmV4cG9ydHMgPSBmdW5jdGlvbihlLCBhKSB7IHZhciByID0gZnVuY3Rpb24oZSkgeyBpZiAodm9pZCAwID09PSB0W2VdKSB7IHZhciBhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTsgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBhIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB0cnkgeyBhID0gYS5jb250ZW50RG9jdW1lbnQuaGVhZCB9IGNhdGNoIChlKSB7IGEgPSBudWxsIH0gdFtlXSA9IGEgfSByZXR1cm4gdFtlXSB9KGUpOyBpZiAoIXIpIHRocm93IG5ldyBFcnJvcigiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgci5hcHBlbmRDaGlsZChhKSB9IH0sIDU0MDogZSA9PiB7IGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGUpIHsgdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpOyByZXR1cm4gZS5zZXRBdHRyaWJ1dGVzKHQsIGUuYXR0cmlidXRlcyksIGUuaW5zZXJ0KHQsIGUub3B0aW9ucyksIHQgfSB9LCA1NjogKGUsIHQsIGEpID0+IHsgZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgeyB2YXIgdCA9IGEubmM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ICYmIGUuc2V0QXR0cmlidXRlKCJub25jZSIsIHQpIH0gfSwgODI1OiBlID0+IHsgZS5leHBvcnRzID0gZnVuY3Rpb24oZSkgeyBpZiAoInVuZGVmaW5lZCIgPT0gdHlwZW9mIGRvY3VtZW50KSByZXR1cm4geyB1cGRhdGU6IGZ1bmN0aW9uKCkge30sIHJlbW92ZTogZnVuY3Rpb24oKSB7fSB9OyB2YXIgdCA9IGUuaW5zZXJ0U3R5bGVFbGVtZW50KGUpOyByZXR1cm4geyB1cGRhdGU6IGZ1bmN0aW9uKGEpIHshIGZ1bmN0aW9uKGUsIHQsIGEpIHsgdmFyIHIgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuc3VwcG9ydHMgJiYgKHIgKz0gIkBzdXBwb3J0cyAoIi5jb25jYXQoYS5zdXBwb3J0cywgIikgeyIpKSwgYS5tZWRpYSAmJiAociArPSAiQG1lZGlhICIuY29uY2F0KGEubWVkaWEsICIgeyIpKTsgdmFyIG4gPSB2b2lkIDAgIT09IGEubGF5ZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuICYmIChyICs9ICJAbGF5ZXIiLmNvbmNhdChhLmxheWVyLmxlbmd0aCA+IDAgPyAiICIuY29uY2F0KGEubGF5ZXIpIDogIiIsICIgeyIpKSwgciArPSBhLmNzcywgbiAmJiAociArPSAifSIpLCBhLm1lZGlhICYmIChyICs9ICJ9IiksIGEuc3VwcG9ydHMgJiYgKHIgKz0gIn0iKTsgdmFyIG8gPSBhLnNvdXJjZU1hcDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gJiYgInVuZGVmaW5lZCIgIT0gdHlwZW9mIGJ0b2EgJiYgKHIgKz0gIlxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvKSkpKSwgIiAqLyIpKSwgdC5zdHlsZVRhZ1RyYW5zZm9ybShyLCBlLCB0Lm9wdGlvbnMpIH0odCwgZSwgYSkgfSwgcmVtb3ZlOiBmdW5jdGlvbigpIHshIGZ1bmN0aW9uKGUpIHsgaWYgKG51bGwgPT09IGUucGFyZW50Tm9kZSkgcmV0dXJuICExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpIH0odCkgfSB9IH0gfSwgMTEzOiBlID0+IHsgZS5leHBvcnRzID0gZnVuY3Rpb24oZSwgdCkgeyBpZiAodC5zdHlsZVNoZWV0KSB0LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgZm9yICg7IHQuZmlyc3RDaGlsZDspIHQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpKSB9IH0gfSB9LAogICAgICAgICAgICAgICAgdCA9IHt9OwogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gYShyKSB7IHZhciBuID0gdFtyXTsgaWYgKHZvaWQgMCAhPT0gbikgcmV0dXJuIG4uZXhwb3J0czsgdmFyIG8gPSB0W3JdID0geyBpZDogciwgZXhwb3J0czoge30gfTsgcmV0dXJuIGVbcl0obywgby5leHBvcnRzLCBhKSwgby5leHBvcnRzIH0gYS5uID0gZSA9PiB7IHZhciB0ID0gZSAmJiBlLl9fZXNNb2R1bGUgPyAoKSA9PiBlLmRlZmF1bHQgOiAoKSA9PiBlOyByZXR1cm4gYS5kKHQsIHsgYTogdCB9KSwgdCB9LCBhLmQgPSAoZSwgdCkgPT4geyBmb3IgKHZhciByIGluIHQpIGEubyh0LCByKSAmJiAhYS5vKGUsIHIpICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IHRbcl0gfSkgfSwgYS5vID0gKGUsIHQpID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCB0KSwgYS5uYyA9IHZvaWQgMDsgdmFyIHIgPSBhKDcyKSwKICAgICAgICAgICAgICAgIG4gPSBhLm4ociksCiAgICAgICAgICAgICAgICBvID0gYSg4MjUpLAogICAgICAgICAgICAgICAgaSA9IGEubihvKSwKICAgICAgICAgICAgICAgIHMgPSBhKDY1OSksCiAgICAgICAgICAgICAgICBjID0gYS5uKHMpLAogICAgICAgICAgICAgICAgbCA9IGEoNTYpLAogICAgICAgICAgICAgICAgZCA9IGEubihsKSwKICAgICAgICAgICAgICAgIG0gPSBhKDU0MCksCiAgICAgICAgICAgICAgICB1ID0gYS5uKG0pLAogICAgICAgICAgICAgICAgcCA9IGEoMTEzKSwKICAgICAgICAgICAgICAgIF8gPSBhLm4ocCksCiAgICAgICAgICAgICAgICBmID0gYSgzMTEpLAogICAgICAgICAgICAgICAgaCA9IHt9OwogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gYihlKSB7IHJldHVybiBiID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmICJzeW1ib2wiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbihlKSB7IHJldHVybiB0eXBlb2YgZSB9IDogZnVuY3Rpb24oZSkgeyByZXR1cm4gZSAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgZS5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIGUgIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBlIH0sIGIoZSkgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gdihlLCB0KSB7IHZhciBhID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciByID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsKICAgICAgICAgICAgICAgICAgICB0ICYmIChyID0gci5maWx0ZXIoKGZ1bmN0aW9uKHQpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgdCkuZW51bWVyYWJsZSB9KSkpLCBhLnB1c2guYXBwbHkoYSwgcikgfSByZXR1cm4gYSB9CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBnKGUpIHsgZm9yICh2YXIgdCA9IDE7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHsgdmFyIGEgPSBudWxsICE9IGFyZ3VtZW50c1t0XSA/IGFyZ3VtZW50c1t0XSA6IHt9OwogICAgICAgICAgICAgICAgICAgIHQgJSAyID8gdihPYmplY3QoYSksICEwKS5mb3JFYWNoKChmdW5jdGlvbih0KSB7IHkoZSwgdCwgYVt0XSkgfSkpIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhhKSkgOiB2KE9iamVjdChhKSkuZm9yRWFjaCgoZnVuY3Rpb24odCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgdCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLCB0KSkgfSkpIH0gcmV0dXJuIGUgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24geShlLCB0LCBhKSB7IHJldHVybiAodCA9IHgodCkpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgdCwgeyB2YWx1ZTogYSwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbdF0gPSBhLCBlIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIHcoZSwgdCkgeyBmb3IgKHZhciBhID0gMDsgYSA8IHQubGVuZ3RoOyBhKyspIHsgdmFyIHIgPSB0W2FdOwogICAgICAgICAgICAgICAgICAgIHIuZW51bWVyYWJsZSA9IHIuZW51bWVyYWJsZSB8fCAhMSwgci5jb25maWd1cmFibGUgPSAhMCwgInZhbHVlIiBpbiByICYmIChyLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgeChyLmtleSksIHIpIH0gfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24geChlKSB7IHZhciB0ID0gZnVuY3Rpb24oZSkgeyBpZiAoIm9iamVjdCIgIT0gYihlKSB8fCAhZSkgcmV0dXJuIGU7IHZhciB0ID0gZVtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSB0KSB7IHZhciBhID0gdC5jYWxsKGUsICJzdHJpbmciKTsgaWYgKCJvYmplY3QiICE9IGIoYSkpIHJldHVybiBhOyB0aHJvdyBuZXcgVHlwZUVycm9yKCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLiIpIH0gcmV0dXJuIFN0cmluZyhlKSB9KGUpOyByZXR1cm4gInN5bWJvbCIgPT0gYih0KSA/IHQgOiB0ICsgIiIgfSBoLnN0eWxlVGFnVHJhbnNmb3JtID0gXygpLCBoLnNldEF0dHJpYnV0ZXMgPSBkKCksIGguaW5zZXJ0ID0gYygpLmJpbmQobnVsbCwgImhlYWQiKSwgaC5kb21BUEkgPSBpKCksIGguaW5zZXJ0U3R5bGVFbGVtZW50ID0gdSgpLCBuKCkoZi5BLCBoKSwgZi5BICYmIGYuQS5sb2NhbHMgJiYgZi5BLmxvY2FsczsgdmFyIGsgPSBmdW5jdGlvbihlLCB0LCBhLCByKSB7IGZldGNoKGUsIHQpLnRoZW4oKGZ1bmN0aW9uKGUpIHsgaWYgKGUub2spIHJldHVybiBlLmpzb24oKTsgdGhyb3cgeyBzdGF0dXM6IGUuc3RhdHVzLCBlcnJvclByb21pc2U6IGUuanNvbigpIH0gfSkpLnRoZW4oKGZ1bmN0aW9uKGUpIHsgcmV0dXJuIGEoZSkgfSkpLmNhdGNoKChmdW5jdGlvbihlKSB7IHJldHVybiByKGUpIH0pKSB9LAogICAgICAgICAgICAgICAgQSA9IG5ldyhmdW5jdGlvbigpIHsgcmV0dXJuIGUgPSBmdW5jdGlvbiBlKCkgeyEgZnVuY3Rpb24oZSwgdCkgeyBpZiAoIShlIGluc3RhbmNlb2YgdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpIH0odGhpcywgZSkgfSwgKHQgPSBbeyBrZXk6ICJnZXRSZXF1ZXN0IiwgdmFsdWU6IGZ1bmN0aW9uKGUsIHQsIGEsIHIpIHsgdmFyIG4gPSB7IG1ldGhvZDogIkdFVCIsIGhlYWRlcnM6IGcoe30sIHQpIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrKGUsIG4sIGEsIHIpIH0gfSwgeyBrZXk6ICJwb3N0UmVxdWVzdCIsIHZhbHVlOiBmdW5jdGlvbihlLCB0LCBhLCByLCBuKSB7IHZhciBvID0geyBtZXRob2Q6ICJQT1NUIiwgaGVhZGVyczogZyh7fSwgdCksIGJvZHk6IGEgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsoZSwgbywgciwgbikgfSB9LCB7IGtleTogImRlbGV0ZVJlcXVlc3QiLCB2YWx1ZTogZnVuY3Rpb24oZSwgdCwgYSwgciwgbikgeyB2YXIgbyA9IHsgbWV0aG9kOiAiREVMRVRFIiwgaGVhZGVyczogZyh7fSwgdCksIGJvZHk6IGEgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsoZSwgbywgciwgbikgfSB9LCB7IGtleTogInB1dFJlcXVlc3QiLCB2YWx1ZTogZnVuY3Rpb24oZSwgdCwgYSwgciwgbikgeyB2YXIgbyA9IHsgbWV0aG9kOiAiUFVUIiwgaGVhZGVyczogZyh7fSwgdCksIGJvZHk6IGEgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsoZSwgbywgciwgbikgfSB9LCB7IGtleTogInBhdGNoUmVxdWVzdCIsIHZhbHVlOiBmdW5jdGlvbigpIHt9IH1dKSAmJiB3KGUucHJvdG90eXBlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgdmFyIGUsIHQgfSgpKSwKICAgICAgICAgICAgICAgIFMgPSBhKDM3NCksCiAgICAgICAgICAgICAgICBUID0ge307CiAgICAgICAgICAgIFQuc3R5bGVUYWdUcmFuc2Zvcm0gPSBfKCksIFQuc2V0QXR0cmlidXRlcyA9IGQoKSwgVC5pbnNlcnQgPSBjKCkuYmluZChudWxsLCAiaGVhZCIpLCBULmRvbUFQSSA9IGkoKSwgVC5pbnNlcnRTdHlsZUVsZW1lbnQgPSB1KCksIG4oKShTLkEsIFQpLCBTLkEgJiYgUy5BLmxvY2FscyAmJiBTLkEubG9jYWxzOyB2YXIgUCA9IGEoNjYwKSwKICAgICAgICAgICAgICAgIEwgPSB7fTsKICAgICAgICAgICAgTC5zdHlsZVRhZ1RyYW5zZm9ybSA9IF8oKSwgTC5zZXRBdHRyaWJ1dGVzID0gZCgpLCBMLmluc2VydCA9IGMoKS5iaW5kKG51bGwsICJoZWFkIiksIEwuZG9tQVBJID0gaSgpLCBMLmluc2VydFN0eWxlRWxlbWVudCA9IHUoKSwgbigpKFAuQSwgTCksIFAuQSAmJiBQLkEubG9jYWxzICYmIFAuQS5sb2NhbHM7IHZhciBFID0gZnVuY3Rpb24oKSB7IHZhciBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMF0gPyBhcmd1bWVudHNbMF0gOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzFdID8gYXJndW1lbnRzWzFdIDoge30sCiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgICAgICBhLmNsYXNzTmFtZSA9ICJjYXJkX19zY29yZS10YWJsZS1yb3ciOyB2YXIgciA9IGZ1bmN0aW9uKGUpIHsgdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpOwogICAgICAgICAgICAgICAgICAgICAgICB0LmNsYXNzTmFtZSA9ICJjYXJkX19iYXR0aW5nLXRhYmxlIjsgdmFyIGEgPSAiXG4gICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgIDx0aD5CYXR0aW5nPC90aD5cbiAgICAgICAgICAgIDx0aD5SPC90aD5cbiAgICAgICAgICAgIDx0aD5CPC90aD5cbiAgICAgICAgICAgIDx0aD40UzwvdGg+XG4gICAgICAgICAgICA8dGg+NlM8L3RoPlxuICAgICAgICAgICAgPHRoPlNSPC90aD5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0ZD4iLmNvbmNhdChlLmJhdHNtYW4xLmJhdHRpbmcsICIgKjwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPiIpLmNvbmNhdChlLmJhdHNtYW4xLnJ1bnMsICI8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD4iKS5jb25jYXQoZS5iYXRzbWFuMS5iYWxscywgIjwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPiIpLmNvbmNhdChlLmJhdHNtYW4xLmZvdXJzLCAiPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+IikuY29uY2F0KGUuYmF0c21hbjEuc2l4ZXMsICI8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD4iKS5jb25jYXQoZS5iYXRzbWFuMS5zdHJpa2VfcmF0ZSwgIjwvdGQ+XG4gICAgICAgICAgICA8L3RyPlxuICAgICIpOyByZXR1cm4gZS5iYXRzbWFuMiAmJiAoYSArPSAiXG4gICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRkPiIuY29uY2F0KGUuYmF0c21hbjIuYmF0dGluZywgIjwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPiIpLmNvbmNhdChlLmJhdHNtYW4yLnJ1bnMsICI8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD4iKS5jb25jYXQoZS5iYXRzbWFuMi5iYWxscywgIjwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPiIpLmNvbmNhdChlLmJhdHNtYW4yLmZvdXJzLCAiPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+IikuY29uY2F0KGUuYmF0c21hbjIuc2l4ZXMsICI8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD4iKS5jb25jYXQoZS5iYXRzbWFuMi5zdHJpa2VfcmF0ZSwgIjwvdGQ+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAiKSksIGEgKz0gIjwvdGJvZHk+IiwgdC5pbm5lckhUTUwgPSBhLCB0IH0oZSk7CiAgICAgICAgICAgICAgICAgICAgYS5hcHBlbmRDaGlsZChyKTsgdmFyIG4gPSBmdW5jdGlvbihlKSB7IHZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgdC5jbGFzc05hbWUgPSAiY2FyZF9fYm93bGluZy10YWJsZSI7IHZhciBhID0gIlxuICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICA8dGg+Qm93bGluZzwvdGg+XG4gICAgICAgICAgICA8dGg+TzwvdGg+XG4gICAgICAgICAgICA8dGg+TTwvdGg+XG4gICAgICAgICAgICA8dGg+UjwvdGg+XG4gICAgICAgICAgICA8dGg+VzwvdGg+XG4gICAgICAgICAgICA8dGg+RUNPPC90aD5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0ZD4iLmNvbmNhdChlLmJvd2xlciwgIjwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPiIpLmNvbmNhdChlLm92ZXJzLCAiPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+IikuY29uY2F0KGUubWFpZGVucywgIjwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPiIpLmNvbmNhdChlLnJ1bnMsICI8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD4iKS5jb25jYXQoZS53aWNrZXRzLCAiPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+IikuY29uY2F0KGUuZWNvbm9teSwgIjwvdGQ+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3Rib2R5PlxuICAgICIpOyByZXR1cm4gdC5pbm5lckhUTUwgPSBhLCB0IH0odCk7IHJldHVybiBhLmFwcGVuZENoaWxkKG4pLCBhIH0sCiAgICAgICAgICAgICAgICBqID0gYSgxNTgpLAogICAgICAgICAgICAgICAgSSA9IHt9OwogICAgICAgICAgICBJLnN0eWxlVGFnVHJhbnNmb3JtID0gXygpLCBJLnNldEF0dHJpYnV0ZXMgPSBkKCksIEkuaW5zZXJ0ID0gYygpLmJpbmQobnVsbCwgImhlYWQiKSwgSS5kb21BUEkgPSBpKCksIEkuaW5zZXJ0U3R5bGVFbGVtZW50ID0gdSgpLCBuKCkoai5BLCBJKSwgai5BICYmIGouQS5sb2NhbHMgJiYgai5BLmxvY2FsczsgdmFyIE0gPSBmdW5jdGlvbihlKSB7IHZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICAgICAgdC5jbGFzc05hbWUgPSAiY2FyZF9fYmFsbC1ieS1iYWxsLXJvdyI7IGZvciAodmFyIGEgPSAiIiwgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKSB7IHZhciBuID0gZVtyXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgbi5pc0ZvdXIgPyBvID0gImNhcmRfX2JhbGwtYm94LS1mb3VyIiA6IG4uaXNTaXggPyBvID0gImNhcmRfX2JhbGwtYm94LS1zaXgiIDogbi5pc1dpY2tldCAmJiAobyA9ICJjYXJkX19iYWxsLWJveC0td2lja2V0IiksIDAgPT0gciA/IGEgKz0gJ1xuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX292ZXItYm94LXdyYXBwZXIiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iY2FyZF9fb3Zlci1ib3gtdGl0bGUiPicuY29uY2F0KG4ub3Zlck51bWJlciwgJ292PC9wPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX19vdmVyLWJveCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX19iYWxsLWJveCAnKS5jb25jYXQobywgJyI+JykuY29uY2F0KG4uYmFsbFNjb3JlUHJpbnQsICI8L2Rpdj4gIFxuICAgICAgICAgICAgIikgOiAxID09IG4uc3RhcnRpbmdCYWxsICYmIHIgIT0gZS5sZW5ndGggLSAxID8gYSArPSAnXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX292ZXItYm94LXdyYXBwZXIiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJjYXJkX19vdmVyLWJveC10aXRsZSI+Jy5jb25jYXQobi5vdmVyTnVtYmVyLCAnb3Y8L3A+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fb3Zlci1ib3giPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX19iYWxsLWJveCAnKS5jb25jYXQobywgJyI+JykuY29uY2F0KG4uYmFsbFNjb3JlUHJpbnQsICI8L2Rpdj5cbiAgICAgICAgICAgICIpIDogMSA9PSBuLnN0YXJ0aW5nQmFsbCAmJiByID09IGUubGVuZ3RoIC0gMSA/IGEgKz0gJ1xuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX19vdmVyLWJveC13cmFwcGVyIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz0iY2FyZF9fb3Zlci1ib3gtdGl0bGUiPicuY29uY2F0KG4ub3Zlck51bWJlciwgJ292PC9wPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX292ZXItYm94Ij5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fYmFsbC1ib3ggJykuY29uY2F0KG8sICciPicpLmNvbmNhdChuLmJhbGxTY29yZVByaW50LCAiPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICIpIDogYSArPSAnXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fYmFsbC1ib3ggJy5jb25jYXQobywgJyI+JykuY29uY2F0KG4uYmFsbFNjb3JlUHJpbnQsICI8L2Rpdj5cbiAgICAgICAgICAgICIpIH0gcmV0dXJuIHQuaW5uZXJIVE1MID0gYSwgdCB9LAogICAgICAgICAgICAgICAgTyA9IGEoNzMyKSwKICAgICAgICAgICAgICAgIE4gPSB7fTsKICAgICAgICAgICAgTi5zdHlsZVRhZ1RyYW5zZm9ybSA9IF8oKSwgTi5zZXRBdHRyaWJ1dGVzID0gZCgpLCBOLmluc2VydCA9IGMoKS5iaW5kKG51bGwsICJoZWFkIiksIE4uZG9tQVBJID0gaSgpLCBOLmluc2VydFN0eWxlRWxlbWVudCA9IHUoKSwgbigpKE8uQSwgTiksIE8uQSAmJiBPLkEubG9jYWxzICYmIE8uQS5sb2NhbHM7IHZhciBDID0gZnVuY3Rpb24oZSkgeyB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgICAgIHQuY2xhc3NOYW1lID0gImNhcmRfX2NvbW1lbnRhcnkiOyB2YXIgYSA9ICIiLAogICAgICAgICAgICAgICAgICAgICAgICByID0gZS5sZW5ndGggPiAzID8gZS5zbGljZShlLmxlbmd0aCAtIDMsIGUubGVuZ3RoKSA6IGUuc2xpY2UoMCwgZS5sZW5ndGgpOyByZXR1cm4gKHIgPSByLnJldmVyc2UoKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSkgeyB2YXIgdCA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICBlLmlzRm91ciA/IHQgPSAiY2FyZF9fY29tbWVudGFyeS1iYWxsLXJ1bnMtLWZvdXIiIDogZS5pc1NpeCA/IHQgPSAiY2FyZF9fY29tbWVudGFyeS1iYWxsLXJ1bnMtLXNpeCIgOiBlLmlzV2lja2V0ICYmICh0ID0gImNhcmRfX2NvbW1lbnRhcnktYmFsbC1ydW5zLS13aWNrZXQiKSwgYSArPSAnXG4gICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX2NvbW1lbnRhcnktcm93Ij5cbiAgICAgICAgICAgIDxwIGNsYXNzPSJjYXJkX19jb21tZW50YXJ5LWJhbGwtbnVtYmVyIj4nLmNvbmNhdChlLm92ZXJzQWN0dWFsLCAnPC9wPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fY29tbWVudGFyeS1iYWxsLXJ1bnMgJykuY29uY2F0KHQsICciPlxuICAgICAgICAgICAgICAgIDxzcGFuPicpLmNvbmNhdChlLmJhbGxTY29yZVByaW50LCAnPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX19jb21tZW50YXJ5LWRldGFpbHMiPlxuICAgICAgICAgICAgICAgIDxwPicpLmNvbmNhdChlLnRpdGxlLCAiPC9wPlxuICAgICAgICAgICAgICAgIDxwPiIpLmNvbmNhdChlLmJhbGxDb21tZW50LCAiPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PiAgICAgICAgXG4gICAgIikgfSkpLCB0LmlubmVySFRNTCA9IGEsIHQgfSwKICAgICAgICAgICAgICAgIHEgPSB7IHNjcmVlbjogIkppb1RWIC0gQ3JpY2tldCBXaWRnZXQiLCBzZWN0aW9uOiAiSmlvVFYiLCBjb250ZW50X3R5cGU6ICJXaWRnZXQiLCBwbGF0Zm9ybTogIkppb05ld3MtbVdlYiIsIHdpZGdldF90aXRsZTogIkppb1RWIENyaWNrZXQgV2lkZ2V0IiB9LAogICAgICAgICAgICAgICAgUiA9IHsgaGFzU2Nyb2xsZWQ6ICExLCBtaWxlc3RvbmVzOiB7IDI1OiAhMSwgNTA6ICExLCA3NTogITEsIDEwMDogITEgfSB9LAogICAgICAgICAgICAgICAgSCA9IGZ1bmN0aW9uKGUpIHsgdmFyIHQgPSBuZXcgRGF0ZShlKSwKICAgICAgICAgICAgICAgICAgICAgICAgYSA9IHQuZ2V0SG91cnMoKSwKICAgICAgICAgICAgICAgICAgICAgICAgciA9IHQuZ2V0TWludXRlcygpLAogICAgICAgICAgICAgICAgICAgICAgICBuID0gIkFNIjsKICAgICAgICAgICAgICAgICAgICBhID49IDEyICYmIChuID0gIlBNIiksIGEgPiAxMiAmJiAoYSAtPSAxMik7IHZhciBvID0gIiIuY29uY2F0KHIpOyByZXR1cm4gMCA9PT0gciAmJiAobyA9ICIwMCIpLCAiIi5jb25jYXQoYSwgIjoiKS5jb25jYXQobykuY29uY2F0KG4sICIgKCs1OjMwKSBJU1QiKSB9LAogICAgICAgICAgICAgICAgeiA9IGZ1bmN0aW9uKGUpIHsgdmFyIHQgPSBuZXcgRGF0ZShlKSwKICAgICAgICAgICAgICAgICAgICAgICAgYSA9IHQuZ2V0RGF0ZSgpLAogICAgICAgICAgICAgICAgICAgICAgICByID0gWyJKYW4iLCAiRmViIiwgIk1hciIsICJBcHIiLCAiTWF5IiwgIkp1biIsICJKdWwiLCAiQXVnIiwgIlNlcHQiLCAiT2N0IiwgIk5vdiIsICJEZWMiXVt0LmdldE1vbnRoKCldLAogICAgICAgICAgICAgICAgICAgICAgICBuID0gdC5nZXRGdWxsWWVhcigpLAogICAgICAgICAgICAgICAgICAgICAgICBvID0gInRoIiwKICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGEudG9TdHJpbmcoKTsgcmV0dXJuICIxIiA9PSBpW2kubGVuZ3RoIC0gMV0gPyBvID0gInN0IiA6ICIyIiA9PSBpW2kubGVuZ3RoIC0gMV0gPyBvID0gIm5kIiA6ICIzIiA9PSBpW2kubGVuZ3RoIC0gMV0gJiYgKG8gPSAicmQiKSwgYSA+PSAxMSAmJiBhIDw9IDE5ICYmIChvID0gInRoIiksICIiLmNvbmNhdChhKS5jb25jYXQobywgIiAiKS5jb25jYXQociwgIiwgIikuY29uY2F0KG4pIH0sCiAgICAgICAgICAgICAgICBCID0gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBSkFBQUFDUUNBUUFBQUJOVHlvekFBQUUxRWxFUVZSNEFXSVlCWUIyN2tITnNpUUlBbkNPYmMvYXRtM2J0bTNidG0zYnRtMHJvK3EyTldaMzU5cTd6VHlvdlBYSEc4UjNXSXFLWFJSRlVSUkZVUlJGT0FBUFYvV2g2TDlJWjF6SndvS1BTMmVnNko5SzVzQ3JMTCtsMG0xQmY0cWtDeC9MazFqK0dqeGNtSlorRnJrTjhSbkxmMlFNSDF2MHp5Ty9KdDVoK2YrZ2lnLzFQWXIwdG5KYjRTMldGcVFjeDFjTW8ySlNQcFNQUlFsTEt6SVpOMkdSb3JodS9FWjRrS2V3dENrZnVvUEtoNUpOMGhITHVrdFF6ZEsrWUNvZWRsdWFlbmhMcDhKS2ZCbVhzU2htSWg3Q2RuWDlLV3dsMC9HdXVBZTFMTWtFVS9HeU84WXRKaDBwTEw2SFh4TVg4T2NzNlFUVmZJZmIwWTBNNEJGY1dCS0g0eG1leEpKRjhER2ZpM1V4Z1BLbXJyOWJBeWZ4OHhqUGtuM1FpSS81TXI4MVpxWnNTVGUzbU5zTE4vQVhhR1RKWlNyd2tEdmFyVjRZUk9tcDZZdGxlVjkzTGQ3aktTekI1QWZjeThkaTNZUitnS3Y2dUVXeEhjN0FJOHdzWVFlMWVKa3Y0MzBLSy9FSTBvTHZXRXhtWWRMQkZUWUw4aXVRRGg1anRLQTFTUWRQdGxtUVc1OTBvTUhvRmJReDZXQ3hHV3hLT3RCb3RLSk5TQWZxNHkzV0pKNW9zeUNzRjEvelRjYXRFVDhVVS9wUS9NSG9GYlFZNmNCbk5ndkMzS1NEMzdCWmtOcmdCNTYwV1pEYTVCSHV0RmdQNnFVRDZYQ1hzaGhNQlduQmlTYXZvTTlJQysvRFlqQXZLaTV4TWxuUTdhUUZpMWdzQ0dlU2xySWhGZ3R5ZTVNZVREQjRCYTFMZXZncmc5L1JDNUFlUEd2d0NocEFldmg2Yy9XTUpVMDRpc1ZZM2lkTldNL2NGWFFMYWNMTTVnbzZnalJKQjR5UEwva200UjBXVTVtSmRPRkdVOWZQT09sQXV2Z3dVd1c5VGRyOFdpeUdjajFwS3d5eU5FT1BQVWdmZjI2bklEY3Y2Y00xWmdxcWt3Nmt6KzFvcHFESEtBbCtWak0zMk5IVWxMaUl3UzFQeWVEN1RSUTBKYkZ0d3U1Z0V3VzlTVW54ODVtNHdVNmhwc1NWUW01UlNnNHVDcjBlbEVnSFNnNnZISHhCVnlSOGhBM1hoVjJRWDR1U3hiZUZQWmNoM1NoWmJvdWdDN28zaFMyWlBDWGdncmFuSnNRVmkxTlMyZDZMellLOWZ1NmhORWhYcmd5MG9OVW9IVGc3eUhxK2x3NlVEajliSEFWcUJyOFEzUFV6bFVkUWV0eFdMSUhsZ1pUUDdVQjEvTVZvRXA4ZlZFRkkvUkFtUHl2cVRTMTIwY2QzaERNUGxzbWhjSDcrVUNhajNjbVVEVHdTeGxLWHdpREtobDhpaU92bkhNb08zNWY3Z2tiNWdka2VrejAxM3dYaFNNb1dyc3AxUFlYTUQxdm1FUmlYNDRwMklRVm1WeS9pTGVsSTJaTXUrRFNmdTVwTEZxSjhjTXZsc3FDTFNZSFpWZFFvcmVsTCtZRUJLSmphYXFEUHJaNm5Qek5jVFlyTW5jK0E3eXA3VS82VTl1UXY4L0gyd2pLVVQzNytQR3lhd2xHVVg3eE45b1B6MG9IeURCZG5XczlYK2k5My9lL3FWN0piL1lPNUtmOUtCK1ByYktZRy9ab1VCcDZKeTlNdnlPMUk0ZUNGTWRiVXpMcyt0M3FhcDFDN1N5azhmcTNVem9DOVREcFFpTEJhR3NmcTRFSUtWMkVsakRNMXFhTVB5eVM2RHVRNENwK2ZOYUhqbVNiNXJja0dETkJma1lZcUxFTjJTQmUrVHZlUVNNeE0xcmdkdFI3WXVLRzhGMWxVT2lkLzFQNGZVdDZHN0pMdWZIbTc2bm5QejBiV1lWVjgyNlo2SnJxanBRc1ZBOThEWjdSMlZRaWU5Yk5TTWZIejhSdXRlS1Z2VDhWSE9yZ3RtaDlhd3pnK3RiWWZGU3ZwN1BaRTZmL3Y3K0xMS29kVHNTdnRpU080L04vbDRHWTNDMFcva201dXh6Ky9rVkNEMDkxSWl2NEpxK0JSL3NMdFZkcVRpbGdVUlZFVVJWRVVSVkgwSTJNUFZxOTRwdUNYQUFBQUFFbEZUa1N1UW1DQyIsCiAgICAgICAgICAgICAgICBXID0gZnVuY3Rpb24oZSkgeyB2YXIgdCwgYSwgciwgbiwgbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzFdID8gYXJndW1lbnRzWzFdIDoge30sCiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1syXSA/IGFyZ3VtZW50c1syXSA6IHt9LAogICAgICAgICAgICAgICAgICAgICAgICBzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbM10gPyBhcmd1bWVudHNbM10gOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzRdID8gYXJndW1lbnRzWzRdIDogImZhbHNlIiwKICAgICAgICAgICAgICAgICAgICAgICAgbCA9IGFyZ3VtZW50cy5sZW5ndGggPiA2ICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzZdID8gYXJndW1lbnRzWzZdIDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOyBpZiAoZC5jbGFzc05hbWUgPSAiY2FyZCIsIGQuc2V0QXR0cmlidXRlKCJtYXRjaGlkIiwgZS5tYXRjaElkKSwgZC5zZXRBdHRyaWJ1dGUoIm1hdGNoLXN0YXR1cyIsIGUuc3RhdHVzKSwgZC5pbm5lckhUTUwgPSAnXG4gICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RvcC1yb3ciPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fbWF0Y2gtZGV0YWlscyI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9ImNhcmRfX21hdGNoLWluZm8tc2VyaWVzLW5hbWUiPicuY29uY2F0KGUuc2VyaWVzX25hbWUsICc8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9ImNhcmRfX21hdGNoLWluZm8tbWF0Y2gtbmFtZSI+JykuY29uY2F0KGUubWF0Y2hfbmFtZSwgJyA8c3BhbiBjbGFzcz0iZG90LXNlcGVyYXRvciI+PC9zcGFuPiAnKS5jb25jYXQoZS5tYXRjaF9kYXRlLCAnPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJjYXJkX19tYXRjaC1pbmZvLXZlbnVlIj4nKS5jb25jYXQoZS5tYXRjaF92ZW51ZSwgJzwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fZXhwYW5kZXIgJykuY29uY2F0KCJQUkUiID09IGUuc3RhdHVzIHx8ICJQT1NUIiA9PSBlLnN0YXR1cyA/ICJoaWRkZW4iIDogIkxJVkUiID09IGUuc3RhdHVzICYmIGwgPyAiIiA6ICJoaWRkZW4iLCAnIj5cbiAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPSI4IiBoZWlnaHQ9IjQiIHZpZXdCb3g9IjAgMCA4IDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00IDRMNy40NjQxIDAuMjVMMC41MzU4OTggMC4yNUw0IDRaIiBmaWxsPSIjQjVCNUI1Ii8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz0iaGlkZGVuIiB3aWR0aD0iOCIgaGVpZ2h0PSI0IiB2aWV3Qm94PSIwIDAgOCA0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNCAzLjQ5NjkxZS0wN0w3LjQ2NDEgMy43NUwwLjUzNTg5OCAzLjc1TDQgMy40OTY5MWUtMDdaIiBmaWxsPSIjQjVCNUI1IiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX19taWRkbGUtcm93Ij5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RlYW0tc2NvcmUtZGV0YWlscyI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fdGVhbS0xLXNjb3JlLWRldGFpbHMiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX190ZWFtLTEtc2NvcmUtZGV0YWlsc19fdG9wLXJvdyI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX190ZWFtLTEtc2NvcmUtZGV0YWlsc19fY2FwdGFpbi1pbWcgJykuY29uY2F0KChudWxsID09IGUgfHwgbnVsbCA9PT0gKHQgPSBlLnRlYW0xKSB8fCB2b2lkIDAgPT09IHQgfHwgbnVsbCA9PT0gKHQgPSB0LmNhcHRhaW5faW1nKSB8fCB2b2lkIDAgPT09IHQgPyB2b2lkIDAgOiB0Lmxlbmd0aCkgPiAwID8gIiIgOiAiaGlkZGVuIiwgJyI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9IicpLmNvbmNhdChudWxsID09IGUgfHwgbnVsbCA9PT0gKGEgPSBlLnRlYW0xKSB8fCB2b2lkIDAgPT09IGEgPyB2b2lkIDAgOiBhLmNhcHRhaW5faW1nLCAnIiBvbmVycm9yPSJ0aGlzLm9uZXJyb3I9bnVsbDtzcmM9XCdhc3NldHMvYXZhdGFyLnN2Z1wnIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RlYW0tMS1zY29yZS1kZXRhaWxzX190ZWFtLW5hbWUiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcpLmNvbmNhdChlLnRlYW0xLnRlYW1fbmFtZSwgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX190ZWFtLTEtc2NvcmUtZGV0YWlsc19fdGVhbS1sb2dvIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iJykuY29uY2F0KGUudGVhbTEudGVhbV9sb2dvLCAnIiBvbmVycm9yPSJ0aGlzLm9uZXJyb3I9bnVsbDtzcmM9XCcnKS5jb25jYXQoQiwgJ1wnIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RlYW0tMS1zY29yZS1kZXRhaWxzX19ib3R0b20tcm93Ij5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjYXJkX190ZWFtLTEtc2NvcmUtZGV0YWlsc19fYm90dG9tLXJvd19fcnVucyI+JykuY29uY2F0KCJQUkUiID09IGUuc3RhdHVzID8gIiIgOiBlLnRlYW0xLnNjb3JlID8gZS50ZWFtMS5zY29yZSA6ICIiLCAnPC9zcGFuPiA8c3BhbiBjbGFzcz0iY2FyZF9fdGVhbS0xLXNjb3JlLWRldGFpbHNfX2JvdHRvbS1yb3dfX292ZXJzIj4nKS5jb25jYXQoIlBSRSIgPT0gZS5zdGF0dXMgPyAiIiA6IGUudGVhbTEub3ZlcnMgPyAiKCIgKyBlLnRlYW0xLm92ZXJzICsgIikiIDogIiIsICc8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiAgXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fdGVhbS1zY29yZS1kZXRhaWxzX192ZXJzdXMtdGV4dCI+VlM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX190ZWFtLTItc2NvcmUtZGV0YWlscyI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX190b3Atcm93Ij5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX190ZWFtLWxvZ28iPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSInKS5jb25jYXQoZS50ZWFtMi50ZWFtX2xvZ28sICciIG9uZXJyb3I9InRoaXMub25lcnJvcj1udWxsO3NyYz1cJycpLmNvbmNhdChCLCAnXCciLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fdGVhbS0yLXNjb3JlLWRldGFpbHNfX3RlYW0tbmFtZSI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJykuY29uY2F0KGUudGVhbTIudGVhbV9uYW1lLCAnXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX19jYXB0YWluLWltZyAnKS5jb25jYXQoKG51bGwgPT0gZSB8fCBudWxsID09PSAociA9IGUudGVhbTIpIHx8IHZvaWQgMCA9PT0gciB8fCBudWxsID09PSAociA9IHIuY2FwdGFpbl9pbWcpIHx8IHZvaWQgMCA9PT0gciA/IHZvaWQgMCA6IHIubGVuZ3RoKSA+IDAgPyAiIiA6ICJoaWRkZW4iLCAnIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iJykuY29uY2F0KG51bGwgPT0gZSB8fCBudWxsID09PSAobiA9IGUudGVhbTIpIHx8IHZvaWQgMCA9PT0gbiA/IHZvaWQgMCA6IG4uY2FwdGFpbl9pbWcsICciIG9uZXJyb3I9InRoaXMub25lcnJvcj1udWxsO3NyYz1cJ2Fzc2V0cy9hdmF0YXIuc3ZnXCciLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fdGVhbS0yLXNjb3JlLWRldGFpbHNfX2JvdHRvbS1yb3ciPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX19ib3R0b20tcm93X19ydW5zIj4nKS5jb25jYXQoIlBSRSIgPT0gZS5zdGF0dXMgPyAiIiA6IGUudGVhbTIuc2NvcmUgPyBlLnRlYW0yLnNjb3JlIDogIiIsICc8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXJkX190ZWFtLTItc2NvcmUtZGV0YWlsc19fYm90dG9tLXJvd19fb3ZlcnMiPicpLmNvbmNhdCgiUFJFIiA9PSBlLnN0YXR1cyA/ICIiIDogZS50ZWFtMi5vdmVycyA/ICIoIiArIGUudGVhbTIub3ZlcnMgKyAiKSIgOiAiIiwgJzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fbWF0Y2gtc3RhdHVzLXJvdyI+XG4gICAgICAgICAgICAnKS5jb25jYXQoZS5zdGF0dXNUZXh0LCAiXG4gICAgICAgIDwvZGl2PlxuICAgICIpLCAiTElWRSIgPT0gZS5zdGF0dXMgJiYgbCkgeyBkLmlubmVySFRNTCArPSAnPHAgY2xhc3M9ImNhcmRfX2xpdmUtdGFnIj5MaXZlPC9wPic7IHZhciBtID0gZC5xdWVyeVNlbGVjdG9yQWxsKCJzdmciKVswXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBkLnF1ZXJ5U2VsZWN0b3JBbGwoInN2ZyIpWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcCA9IEUobywgaSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGQuYXBwZW5kQ2hpbGQocCk7IHZhciBfID0gTShzKTsKICAgICAgICAgICAgICAgICAgICAgICAgZC5hcHBlbmRDaGlsZChfKTsgdmFyIGYgPSBDKHMpOwogICAgICAgICAgICAgICAgICAgICAgICBkLmFwcGVuZENoaWxkKGYpOyB2YXIgaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgICAgICAgICBoLmNsYXNzTmFtZSA9ICJjYXJkX19wb2ludHMtdGFibGUtd3JhcHBlciBoaWRkZW4iLCBkLmFwcGVuZENoaWxkKGgpLCBkLnNldEF0dHJpYnV0ZSgiaXMtb3BlbiIsIGMpLCAiZmFsc2UiID09IGMgPyAobS5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSwgdS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSwgcC5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSwgXy5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSwgZi5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSkgOiAidHJ1ZSIgPT0gYyAmJiAobS5jbGFzc0xpc3QuYWRkKCJoaWRkZW4iKSwgdS5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSwgcC5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSwgXy5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSwgZi5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKSksIGQucXVlcnlTZWxlY3RvcigiLmNhcmRfX2V4cGFuZGVyIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZnVuY3Rpb24oKSB7IHZhciBlID0gZC5xdWVyeVNlbGVjdG9yQWxsKCJzdmciKVswXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gZC5xdWVyeVNlbGVjdG9yQWxsKCJzdmciKVsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuY2xhc3NMaXN0LnRvZ2dsZSgiaGlkZGVuIiksIHQuY2xhc3NMaXN0LnRvZ2dsZSgiaGlkZGVuIiksIGQucXVlcnlTZWxlY3RvcigiLmNhcmRfX3Njb3JlLXRhYmxlLXJvdyIpLmNsYXNzTGlzdC50b2dnbGUoImhpZGRlbiIpLCBkLnF1ZXJ5U2VsZWN0b3IoIi5jYXJkX19iYWxsLWJ5LWJhbGwtcm93IikuY2xhc3NMaXN0LnRvZ2dsZSgiaGlkZGVuIik7IHZhciBhID0gZC5nZXRBdHRyaWJ1dGUoImlzLW9wZW4iKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByID0gZC5xdWVyeVNlbGVjdG9yKCIuY2FyZF9fY29tbWVudGFyeSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5xdWVyeVNlbGVjdG9yKCIuY2FyZF9fcG9pbnRzLXRhYmxlLXdyYXBwZXIiKSwgInRydWUiID09IGEgPyByLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpIDogImZhbHNlIiA9PSBhICYmIHIuY2xhc3NMaXN0LnJlbW92ZSgiaGlkZGVuIiksICJ0cnVlIiA9PSBkLmdldEF0dHJpYnV0ZSgiaXMtb3BlbiIpID8gZC5zZXRBdHRyaWJ1dGUoImlzLW9wZW4iLCAiZmFsc2UiKSA6ICJmYWxzZSIgPT0gZC5nZXRBdHRyaWJ1dGUoImlzLW9wZW4iKSAmJiBkLnNldEF0dHJpYnV0ZSgiaXMtb3BlbiIsICJ0cnVlIikgfSkpIH0gZWxzZSBlLnN0YXR1czsgcmV0dXJuIGQgfSwKICAgICAgICAgICAgICAgIEogPSBmdW5jdGlvbihlKSB7IHZhciB0LCBhLCByLCBuLCBvID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMV0gPyBhcmd1bWVudHNbMV0gOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOyBzd2l0Y2ggKG8pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibWlkZGxlLXJvdyI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmNsYXNzTmFtZSA9ICJjYXJkX19taWRkbGUtcm93IiwgaS5pbm5lckhUTUwgPSAnXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fdGVhbS1zY29yZS1kZXRhaWxzIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fdGVhbS0xLXNjb3JlLWRldGFpbHMiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fdGVhbS0xLXNjb3JlLWRldGFpbHNfX3RvcC1yb3ciPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RlYW0tMS1zY29yZS1kZXRhaWxzX19jYXB0YWluLWltZyAnLmNvbmNhdCgobnVsbCA9PSBlIHx8IG51bGwgPT09ICh0ID0gZS50ZWFtMSkgfHwgdm9pZCAwID09PSB0IHx8IG51bGwgPT09ICh0ID0gdC5jYXB0YWluX2ltZykgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5sZW5ndGgpID4gMCA/ICIiIDogImhpZGRlbiIsICciPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iJykuY29uY2F0KG51bGwgPT0gZSB8fCBudWxsID09PSAoYSA9IGUudGVhbTEpIHx8IHZvaWQgMCA9PT0gYSA/IHZvaWQgMCA6IGEuY2FwdGFpbl9pbWcsICciIG9uZXJyb3I9InRoaXMub25lcnJvcj1udWxsO3NyYz1cJ2Fzc2V0cy9hdmF0YXIuc3ZnXCciLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX190ZWFtLTEtc2NvcmUtZGV0YWlsc19fdGVhbS1uYW1lIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJykuY29uY2F0KGUudGVhbTEudGVhbV9uYW1lLCAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fdGVhbS0xLXNjb3JlLWRldGFpbHNfX3RlYW0tbG9nbyI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSInKS5jb25jYXQoZS50ZWFtMS50ZWFtX2xvZ28sICciLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZF9fdGVhbS0xLXNjb3JlLWRldGFpbHNfX2JvdHRvbS1yb3ciPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjYXJkX190ZWFtLTEtc2NvcmUtZGV0YWlsc19fYm90dG9tLXJvd19fcnVucyI+JykuY29uY2F0KGUudGVhbTEuc2NvcmUgPyBlLnRlYW0xLnNjb3JlIDogIiIsICc8L3NwYW4+IDxzcGFuIGNsYXNzPSJjYXJkX190ZWFtLTEtc2NvcmUtZGV0YWlsc19fYm90dG9tLXJvd19fb3ZlcnMiPicpLmNvbmNhdChlLnRlYW0xLm92ZXJzID8gIigiICsgZS50ZWFtMS5vdmVycyArICIpIiA6ICIiLCAnPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICBcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RlYW0tc2NvcmUtZGV0YWlsc19fdmVyc3VzLXRleHQiPlZTPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX190b3Atcm93Ij5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX190ZWFtLTItc2NvcmUtZGV0YWlsc19fdGVhbS1sb2dvIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9IicpLmNvbmNhdChlLnRlYW0yLnRlYW1fbG9nbywgJyIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX190ZWFtLW5hbWUiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKS5jb25jYXQoZS50ZWFtMi50ZWFtX25hbWUsICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX190ZWFtLTItc2NvcmUtZGV0YWlsc19fY2FwdGFpbi1pbWcgJykuY29uY2F0KChudWxsID09IGUgfHwgbnVsbCA9PT0gKHIgPSBlLnRlYW0yKSB8fCB2b2lkIDAgPT09IHIgfHwgbnVsbCA9PT0gKHIgPSByLmNhcHRhaW5faW1nKSB8fCB2b2lkIDAgPT09IHIgPyB2b2lkIDAgOiByLmxlbmd0aCkgPiAwID8gIiIgOiAiaGlkZGVuIiwgJyI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSInKS5jb25jYXQobnVsbCA9PSBlIHx8IG51bGwgPT09IChuID0gZS50ZWFtMikgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5jYXB0YWluX2ltZywgJyIgb25lcnJvcj0idGhpcy5vbmVycm9yPW51bGw7c3JjPVwnYXNzZXRzL2F2YXRhci5zdmdcJyIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkX190ZWFtLTItc2NvcmUtZGV0YWlsc19fYm90dG9tLXJvdyI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX19ib3R0b20tcm93X19ydW5zIj4nKS5jb25jYXQoZS50ZWFtMi5zY29yZSA/IGUudGVhbTIuc2NvcmUgOiAiIiwgJzwvc3Bhbj4gPHNwYW4gY2xhc3M9ImNhcmRfX3RlYW0tMi1zY29yZS1kZXRhaWxzX19ib3R0b20tcm93X19vdmVycyI+JykuY29uY2F0KGUudGVhbTIub3ZlcnMgPyAiKCIgKyBlLnRlYW0yLm92ZXJzICsgIikiIDogIiIsICI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gIFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICIpOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibWF0Y2gtc3RhdHVzLXJvdyI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmNsYXNzTmFtZSA9ICJjYXJkX19tYXRjaC1zdGF0dXMtcm93IiwgaS5pbm5lckhUTUwgPSAiXG4gICAgICAgICAgICAgICAgIi5jb25jYXQoZS5zdGF0dXNUZXh0LCAiXG4gICAgICAgICAgICAiKSB9IHJldHVybiBpIH0sCiAgICAgICAgICAgICAgICBEID0gZnVuY3Rpb24oZSwgdCwgYSkgeyB2YXIgciA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ID8gYXJndW1lbnRzWzRdIDogdm9pZCAwLAogICAgICAgICAgICAgICAgICAgICAgICBuID0gbnVsbDsgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoID4gMyAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1szXSA/IGFyZ3VtZW50c1szXSA6ICIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInNjb3JlLXRhYmxlIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSBFKGUsIHQpLCAiZmFsc2UiID09IHIgPyBuLmNsYXNzTGlzdC5hZGQoImhpZGRlbiIpIDogInRydWUiID09IHIgJiYgbi5jbGFzc0xpc3QucmVtb3ZlKCJoaWRkZW4iKTsgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImJhbGwtYnktYmFsbC1yb3ciOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IE0oYSksICJmYWxzZSIgPT0gciA/IG4uY2xhc3NMaXN0LmFkZCgiaGlkZGVuIikgOiAidHJ1ZSIgPT0gciAmJiBuLmNsYXNzTGlzdC5yZW1vdmUoImhpZGRlbiIpOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiY29tbWVudGFyeS1ib3giOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IEMoYSksICJmYWxzZSIgPT0gciA/IG4uY2xhc3NMaXN0LmFkZCgiaGlkZGVuIikgOiAidHJ1ZSIgPT0gciAmJiBuLmNsYXNzTGlzdC5yZW1vdmUoImhpZGRlbiIpIH0gcmV0dXJuIG4gfSwKICAgICAgICAgICAgICAgIFUgPSBhKDc1NCksCiAgICAgICAgICAgICAgICBWID0ge307CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBGKGUpIHsgcmV0dXJuIEYgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uKGUpIHsgcmV0dXJuIHR5cGVvZiBlIH0gOiBmdW5jdGlvbihlKSB7IHJldHVybiBlICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCAmJiBlLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgZSAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIGUgfSwgRihlKSB9CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiBLKGUsIHQpIHsgZm9yICh2YXIgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgYSsrKSB7IHZhciByID0gdFthXTsKICAgICAgICAgICAgICAgICAgICByLmVudW1lcmFibGUgPSByLmVudW1lcmFibGUgfHwgITEsIHIuY29uZmlndXJhYmxlID0gITAsICJ2YWx1ZSIgaW4gciAmJiAoci53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFEoci5rZXkpLCByKSB9IH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIFEoZSkgeyB2YXIgdCA9IGZ1bmN0aW9uKGUpIHsgaWYgKCJvYmplY3QiICE9IEYoZSkgfHwgIWUpIHJldHVybiBlOyB2YXIgdCA9IGVbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gdCkgeyB2YXIgYSA9IHQuY2FsbChlLCAic3RyaW5nIik7IGlmICgib2JqZWN0IiAhPSBGKGEpKSByZXR1cm4gYTsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4iKSB9IHJldHVybiBTdHJpbmcoZSkgfShlKTsgcmV0dXJuICJzeW1ib2wiID09IEYodCkgPyB0IDogdCArICIiIH0gVi5zdHlsZVRhZ1RyYW5zZm9ybSA9IF8oKSwgVi5zZXRBdHRyaWJ1dGVzID0gZCgpLCBWLmluc2VydCA9IGMoKS5iaW5kKG51bGwsICJoZWFkIiksIFYuZG9tQVBJID0gaSgpLCBWLmluc2VydFN0eWxlRWxlbWVudCA9IHUoKSwgbigpKFUuQSwgViksIFUuQSAmJiBVLkEubG9jYWxzICYmIFUuQS5sb2NhbHM7IHZhciBZID0gbmV3KGZ1bmN0aW9uKCkgeyByZXR1cm4gZSA9IGZ1bmN0aW9uIGUoKSB7ISBmdW5jdGlvbihlLCB0KSB7IGlmICghKGUgaW5zdGFuY2VvZiB0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIikgfSh0aGlzLCBlKSwgdGhpcy5zdWJzY3JpYmVycyA9IFtdIH0sICh0ID0gW3sga2V5OiAicHVibGlzaCIsIHZhbHVlOiBmdW5jdGlvbihlLCB0KSB7IHZhciBhID0gdGhpcy5zdWJzY3JpYmVyc1tlXTsgaWYgKGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBhLmxlbmd0aDsgcisrKSBhW3JdWzBdKHQpIH0gfSwgeyBrZXk6ICJzdWJzY3JpYmUiLCB2YWx1ZTogZnVuY3Rpb24oZSwgdCkgeyB0aGlzLnN1YnNjcmliZXJzW2VdIHx8ICh0aGlzLnN1YnNjcmliZXJzW2VdID0gW10pOyB2YXIgYSA9ICIjIi5jb25jYXQoZSwgIi0tIikuY29uY2F0KHQubmFtZSwgIi0tIikuY29uY2F0KE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMiwgMTIpKTsgcmV0dXJuIHRoaXMuc3Vic2NyaWJlcnNbZV0ucHVzaChbdCwgYV0pLCBhIH0gfSwgeyBrZXk6ICJ1bnN1YnNjcmliZSIsIHZhbHVlOiBmdW5jdGlvbihlLCB0KSB7IGlmICh0aGlzLnN1YnNjcmliZXJzW2VdKSB7IHZhciBhID0gLTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVyc1tlXS5mb3JFYWNoKChmdW5jdGlvbihlLCByKSB7IGVbMV0gPT0gdCAmJiAoYSA9IHIpIH0pKSwgdGhpcy5zdWJzY3JpYmVyc1tlXS5zcGxpY2UoYSwgMSkgfSB9IH1dKSAmJiBLKGUucHJvdG90eXBlLCB0KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsICJwcm90b3R5cGUiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgdmFyIGUsIHQgfSgpKSwKICAgICAgICAgICAgICAgIEcgPSBbXSwKICAgICAgICAgICAgICAgIFogPSBmdW5jdGlvbihlLCB0KSB7IGZvciAodmFyIGEgPSBbXSwgciA9IFtdLCBuID0gW10sIG8gPSAwOyBvIDwgdC5sZW5ndGg7IG8rKykgeyB2YXIgaSA9IHRbb107ICJMSVZFIiA9PSBpLnN0YXRlICYmICJOb3QgY292ZXJlZCBMaXZlIiAhPSBpLnN0YXR1cyAmJiBhLnB1c2goeyBtYXRjaElkOiBpLm9iamVjdElkLCBzZXJpZXNJZDogaS5zZXJpZXMub2JqZWN0SWQsIHN0YXR1czogIkxJVkUiIH0pIH0gZm9yICh2YXIgcyA9IDA7IHMgPCB0Lmxlbmd0aDsgcysrKSB7IHZhciBjID0gdFtzXTsgaWYgKCJQUkUiID09IGMuc3RhdGUgJiYgMCA9PSByLmxlbmd0aCkgeyByLnB1c2goeyBtYXRjaElkOiBjLm9iamVjdElkLCBzZXJpZXNJZDogYy5zZXJpZXMub2JqZWN0SWQsIHN0YXR1czogIlBSRSIsIHNlcmllc19uYW1lOiBjLnNlcmllcy5uYW1lLCBtYXRjaF9uYW1lOiBjLnRpdGxlLCBtYXRjaF92ZW51ZTogYy5ncm91bmQubmFtZSwgbWF0Y2hfZGF0ZTogeihjLnN0YXJ0RGF0ZSksIHRlYW0xOiB7IHRlYW1fbmFtZTogYy50ZWFtc1swXS50ZWFtLmFiYnJldmlhdGlvbiwgdGVhbV9sb2dvOiAiaHR0cHM6Ly9pbWcxLmhzY2ljZG4uY29tL2ltYWdlL3VwbG9hZC9mX2F1dG8sdF9kc19zcXVhcmVfd184MCIuY29uY2F0KGMudGVhbXNbMF0udGVhbS5pbWFnZVVybCkgfSwgdGVhbTI6IHsgdGVhbV9uYW1lOiBjLnRlYW1zWzFdLnRlYW0uYWJicmV2aWF0aW9uLCB0ZWFtX2xvZ286ICJodHRwczovL2ltZzEuaHNjaWNkbi5jb20vaW1hZ2UvdXBsb2FkL2ZfYXV0byx0X2RzX3NxdWFyZV93XzgwIi5jb25jYXQoYy50ZWFtc1sxXS50ZWFtLmltYWdlVXJsKSB9LCBzdGF0dXNUZXh0OiAiTWF0Y2ggc3RhcnRzIGluIHt7TUFUQ0hfU1RBUlRfSE9VUlN9fSB7e01BVENIX1NUQVJUX01JTlN9fSIgPT0gYy5zdGF0dXNUZXh0ID8gIk1hdGNoIHdpbGwgYmVnaW4gYXQgIi5jb25jYXQoSChjLnN0YXJ0VGltZSkpIDogYy5zdGF0dXNUZXh0IH0pOyBicmVhayB9IH0gZm9yICh2YXIgbCA9IDA7IGwgPCB0Lmxlbmd0aDsgbCsrKSB7IHZhciBkID0gdFtsXTsgIlBPU1QiID09IGQuc3RhdGUgJiYgbi5wdXNoKHsgbWF0Y2hJZDogZC5vYmplY3RJZCwgc2VyaWVzSWQ6IGQuc2VyaWVzLm9iamVjdElkLCBzdGF0dXM6ICJQT1NUIiwgc2VyaWVzX25hbWU6IGQuc2VyaWVzLm5hbWUsIG1hdGNoX25hbWU6IGQudGl0bGUsIG1hdGNoX3ZlbnVlOiBkLmdyb3VuZC5uYW1lLCBtYXRjaF9kYXRlOiB6KGQuc3RhcnREYXRlKSwgdGVhbTE6IHsgdGVhbV9uYW1lOiBkLnRlYW1zWzBdLnRlYW0uYWJicmV2aWF0aW9uLCB0ZWFtX2xvZ286ICJodHRwczovL2ltZzEuaHNjaWNkbi5jb20vaW1hZ2UvdXBsb2FkL2ZfYXV0byx0X2RzX3NxdWFyZV93XzgwIi5jb25jYXQoZC50ZWFtc1swXS50ZWFtLmltYWdlVXJsKSwgc2NvcmU6IGQudGVhbXNbMF0uc2NvcmUsIG92ZXJzOiBkLnRlYW1zWzBdLnNjb3JlSW5mbyB9LCB0ZWFtMjogeyB0ZWFtX25hbWU6IGQudGVhbXNbMV0udGVhbS5hYmJyZXZpYXRpb24sIHRlYW1fbG9nbzogImh0dHBzOi8vaW1nMS5oc2NpY2RuLmNvbS9pbWFnZS91cGxvYWQvZl9hdXRvLHRfZHNfc3F1YXJlX3dfODAiLmNvbmNhdChkLnRlYW1zWzFdLnRlYW0uaW1hZ2VVcmwpLCBzY29yZTogZC50ZWFtc1sxXS5zY29yZSwgb3ZlcnM6IGQudGVhbXNbMV0uc2NvcmVJbmZvIH0sIHN0YXR1c1RleHQ6IGQuc3RhdHVzVGV4dCB9KSB9IEcucHVzaCh7IHRvdXJuYW1lbnRfaWQ6IGUsIHNlcmllc19pZDogdFswXS5zZXJpZXMub2JqZWN0SWQsIG1hdGNoZXNfbGl2ZTogYSwgbWF0Y2hlc191cGNvbWluZzogciwgbWF0Y2hlc19jb21wbGV0ZWQ6IG4gfSkgfSwKICAgICAgICAgICAgICAgIFggPSBmdW5jdGlvbihlKSB7IHZhciB0ID0geyBtYXRjaElkOiBlLm1hdGNoLm9iamVjdElkLCBzZXJpZXNJZDogZS5tYXRjaC5zZXJpZXMub2JqZWN0SWQsIHNlcmllc19uYW1lOiBlLm1hdGNoLnNlcmllcy5uYW1lLCBtYXRjaF9uYW1lOiBlLm1hdGNoLnRpdGxlLCBtYXRjaF92ZW51ZTogZS5tYXRjaC5ncm91bmQubmFtZSwgbWF0Y2hfZGF0ZTogeihlLm1hdGNoLnN0YXJ0RGF0ZSksIHRlYW0xOiB7IGNhcHRhaW5faW1nOiAiaHR0cHM6Ly9pbWcxLmhzY2ljZG4uY29tL2ltYWdlL3VwbG9hZC9mX2F1dG8sdF9kc19zcXVhcmVfd184MCIuY29uY2F0KGUubWF0Y2gudGVhbXNbMF0uY2FwdGFpbi5oZWFkc2hvdEltYWdlVXJsIHx8IGUubWF0Y2gudGVhbXNbMF0uY2FwdGFpbi5pbWFnZVVybCksIHRlYW1fbmFtZTogZS5tYXRjaC50ZWFtc1swXS50ZWFtLmFiYnJldmlhdGlvbiwgdGVhbV9sb2dvOiAiaHR0cHM6Ly9pbWcxLmhzY2ljZG4uY29tL2ltYWdlL3VwbG9hZC9mX2F1dG8sdF9kc19zcXVhcmVfd184MCIuY29uY2F0KGUubWF0Y2gudGVhbXNbMF0udGVhbS5pbWFnZVVybCkgfSwgdGVhbTI6IHsgY2FwdGFpbl9pbWc6ICJodHRwczovL2ltZzEuaHNjaWNkbi5jb20vaW1hZ2UvdXBsb2FkL2ZfYXV0byx0X2RzX3NxdWFyZV93XzgwIi5jb25jYXQoZS5tYXRjaC50ZWFtc1sxXS5jYXB0YWluLmhlYWRzaG90SW1hZ2VVcmwgfHwgZS5tYXRjaC50ZWFtc1sxXS5jYXB0YWluLmltYWdlVXJsKSwgdGVhbV9uYW1lOiBlLm1hdGNoLnRlYW1zWzFdLnRlYW0uYWJicmV2aWF0aW9uLCB0ZWFtX2xvZ286ICJodHRwczovL2ltZzEuaHNjaWNkbi5jb20vaW1hZ2UvdXBsb2FkL2ZfYXV0byx0X2RzX3NxdWFyZV93XzgwIi5jb25jYXQoZS5tYXRjaC50ZWFtc1sxXS50ZWFtLmltYWdlVXJsKSB9LCBzdGF0dXM6IGUubWF0Y2guc3RhdGUsIHN0YXR1c1RleHQ6IGUubWF0Y2guc3RhdHVzVGV4dCB8fCBlLm1hdGNoLnN0YXR1cyB9OyByZXR1cm4gIkxJVkUiICE9IHQuc3RhdHVzICYmICJQT1NUIiAhPSB0LnN0YXR1cyB8fCAodC50ZWFtMS5zY29yZSA9IGUubWF0Y2gudGVhbXNbMF0uc2NvcmUsIHQudGVhbTEub3ZlcnMgPSBlLm1hdGNoLnRlYW1zWzBdLnNjb3JlSW5mbywgdC50ZWFtMi5zY29yZSA9IGUubWF0Y2gudGVhbXNbMV0uc2NvcmUsIHQudGVhbTIub3ZlcnMgPSBlLm1hdGNoLnRlYW1zWzFdLnNjb3JlSW5mbyksICJNYXRjaCBzdGFydHMgaW4ge3tNQVRDSF9TVEFSVF9IT1VSU319IHt7TUFUQ0hfU1RBUlRfTUlOU319IiA9PSB0LnN0YXR1c1RleHQgJiYgKHQuc3RhdHVzVGV4dCA9ICJNYXRjaCB3aWxsIGJlZ2luIGF0ICIuY29uY2F0KEgoZS5tYXRjaC5zdGFydFRpbWUpKSksIHQgfSwKICAgICAgICAgICAgICAgICQgPSBmdW5jdGlvbihlKSB7IGZvciAodmFyIHQsIGEsIHIsIG4sIG8sIGksIHMsIGMsIGwsIGQgPSBbXSwgbSA9IE1hdGgubWluKGUubGVuZ3RoLCAxOCksIHUgPSAwOyB1IDwgbTsgdSsrKSB7IHZhciBwLCBfLCBmLCBoID0gZVt1XTsKICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgYmFsbE51bWJlcjogaC5iYWxsTnVtYmVyLCBvdmVyTnVtYmVyOiBoLm92ZXJOdW1iZXIsIG92ZXJzQWN0dWFsOiBoLm92ZXJzQWN0dWFsLCBpc0ZvdXI6IGguaXNGb3VyLCBpc1NpeDogaC5pc1NpeCwgaXNXaWNrZXQ6IGguaXNXaWNrZXQsIHdpZGVzOiBoLndpZGVzLCBieWVzOiBoLmJ5ZXMsIGxlZ2J5ZXM6IGgubGVnYnllcywgbm9iYWxsczogaC5ub2JhbGxzLCB0b3RhbFJ1bnM6IGgudG90YWxSdW5zLCBiYXRzbWFuUnVuczogaC5iYXRzbWFuUnVucywgYmFsbENvbW1lbnQ6IG51bGwgIT0gaCAmJiBudWxsICE9PSAocCA9IGguY29tbWVudFRleHRJdGVtcykgJiYgdm9pZCAwICE9PSBwICYmIG51bGwgIT09IChwID0gcFswXSkgJiYgdm9pZCAwICE9PSBwICYmIHAuaHRtbCA/IGguY29tbWVudFRleHRJdGVtc1swXS5odG1sIDogIiIsIHN0YXJ0aW5nQmFsbDogKG51bGwgPT09IChfID0gZVt1XSkgfHwgdm9pZCAwID09PSBfID8gdm9pZCAwIDogXy5vdmVyTnVtYmVyKSA+IChudWxsID09PSAoZiA9IGVbdSArIDFdKSB8fCB2b2lkIDAgPT09IGYgPyB2b2lkIDAgOiBmLm92ZXJOdW1iZXIpIHx8IHUgPT0gbSAtIDEsIGJhbGxTY29yZVByaW50OiAodCA9IGguaXNGb3VyLCBhID0gaC5pc1NpeCwgciA9IGguaXNXaWNrZXQsIG4gPSBoLndpZGVzLCBvID0gaC5ieWVzLCBpID0gaC5sZWdieWVzLCBzID0gaC5ub2JhbGxzLCBjID0gaC5iYXRzbWFuUnVucywgbCA9IHZvaWQgMCwgbCA9ICIiLCB0ID8gbCArPSAiNCIgOiBhID8gbCArPSAiNiIgOiBjID4gMCA/IGwgKz0gYy50b1N0cmluZygpIDogMCA9PSBjICYmIChsICs9ICIwIiksIHIgJiYgKDAgPT0gYyA/IGwgPSAiVyIgOiBsICs9ICIrVyIpLCBvID4gMCAmJiAobCA9ICIiLmNvbmNhdChvLCAiYiIpKSwgaSA+IDAgJiYgKGwgPSAiIi5jb25jYXQoaSwgImxiIikpLCBzID4gMCAmJiAobCA9ICIiLmNvbmNhdChzLCAibmIiKSksIG4gPiAwICYmIChsID0gIiIuY29uY2F0KG4sICJ3ZCIpKSwgbCksIHRpdGxlOiBudWxsID09IGggPyB2b2lkIDAgOiBoLnRpdGxlIH0pIH0gcmV0dXJuIGQucmV2ZXJzZSgpIH0sCiAgICAgICAgICAgICAgICBlZSA9IGZ1bmN0aW9uKGUpIHsgdmFyIHQgPSB7IGJhdHNtYW4xOiB7IG9uX3N0cmlrZTogITEsIGJhdHRpbmc6IGUubGl2ZVBlcmZvcm1hbmNlLmJhdHNtZW5bMF0ucGxheWVyLmJhdHRpbmdOYW1lLCBydW5zOiBlLmxpdmVQZXJmb3JtYW5jZS5iYXRzbWVuWzBdLnJ1bnMsIGJhbGxzOiBlLmxpdmVQZXJmb3JtYW5jZS5iYXRzbWVuWzBdLmJhbGxzLCBmb3VyczogZS5saXZlUGVyZm9ybWFuY2UuYmF0c21lblswXS5mb3Vycywgc2l4ZXM6IGUubGl2ZVBlcmZvcm1hbmNlLmJhdHNtZW5bMF0uc2l4ZXMsIHN0cmlrZV9yYXRlOiBlLmxpdmVQZXJmb3JtYW5jZS5iYXRzbWVuWzBdLnN0cmlrZXJhdGUgfSB9OyByZXR1cm4gZS5saXZlUGVyZm9ybWFuY2UuYmF0c21lblsxXSAmJiAodC5iYXRzbWFuMiA9IHsgb25fc3RyaWtlOiAhMSwgYmF0dGluZzogZS5saXZlUGVyZm9ybWFuY2UuYmF0c21lblsxXS5wbGF5ZXIuYmF0dGluZ05hbWUsIHJ1bnM6IGUubGl2ZVBlcmZvcm1hbmNlLmJhdHNtZW5bMV0ucnVucywgYmFsbHM6IGUubGl2ZVBlcmZvcm1hbmNlLmJhdHNtZW5bMV0uYmFsbHMsIGZvdXJzOiBlLmxpdmVQZXJmb3JtYW5jZS5iYXRzbWVuWzFdLmZvdXJzLCBzaXhlczogZS5saXZlUGVyZm9ybWFuY2UuYmF0c21lblsxXS5zaXhlcywgc3RyaWtlX3JhdGU6IGUubGl2ZVBlcmZvcm1hbmNlLmJhdHNtZW5bMV0uc3RyaWtlcmF0ZSB9KSwgdCB9LAogICAgICAgICAgICAgICAgdGUgPSBmdW5jdGlvbihlKSB7IHJldHVybiB7IGJvd2xlcjogZS5saXZlUGVyZm9ybWFuY2UuYm93bGVyc1swXS5wbGF5ZXIubmFtZSwgb3ZlcnM6IGUubGl2ZVBlcmZvcm1hbmNlLmJvd2xlcnNbMF0ub3ZlcnMsIG1haWRlbnM6IGUubGl2ZVBlcmZvcm1hbmNlLmJvd2xlcnNbMF0ubWFpZGVucywgcnVuczogZS5saXZlUGVyZm9ybWFuY2UuYm93bGVyc1swXS5jb25jZWRlZCwgd2lja2V0czogZS5saXZlUGVyZm9ybWFuY2UuYm93bGVyc1swXS53aWNrZXRzLCBlY29ub215OiBlLmxpdmVQZXJmb3JtYW5jZS5ib3dsZXJzWzBdLmVjb25vbXkgfSB9LAogICAgICAgICAgICAgICAgYWUgPSBmdW5jdGlvbigpIHsgdmFyIGUsIHQsIGE7CiAgICAgICAgICAgICAgICAgICAgd2luZG93Ll90YWJvb2xhID0gd2luZG93Ll90YWJvb2xhIHx8IFtdLCBfdGFib29sYS5wdXNoKHsgY2F0ZWdvcnk6ICJhdXRvIiB9KSwgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLCB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpWzBdLCBhID0gInRiX2xvYWRlcl9zY3JpcHQiLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKSB8fCAoZS5hc3luYyA9IDEsIGUuc3JjID0gIi8vY2RuLnRhYm9vbGEuY29tL2xpYnRyYy9qaW9wbGF0Zm9ybXMtamlvbmV3cy9sb2FkZXIuanMiLCBlLmlkID0gYSwgdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLCB0KSksIHdpbmRvdy5wZXJmb3JtYW5jZSAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiB3aW5kb3cucGVyZm9ybWFuY2UubWFyayAmJiB3aW5kb3cucGVyZm9ybWFuY2UubWFyaygidGJsX2ljIikgfSwKICAgICAgICAgICAgICAgIHJlID0gZnVuY3Rpb24oZSkgeyB2YXIgdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzFdID8gYXJndW1lbnRzWzFdIDogImNyaWNrZXRfbmV3cyIsCiAgICAgICAgICAgICAgICAgICAgICAgIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsgc3dpdGNoIChhLmlkID0gImFkLSIuY29uY2F0KGUpLCBhLnN0eWxlLnBhZGRpbmdUb3AgPSAiMXJlbSIsIHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiY3JpY2tldF9uZXdzIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuaW5uZXJIVE1MICs9ICdcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ0YWJvb2xhLWNyaWNrZXQtbmV3cy10aHVtYm5haWxzIj48L2Rpdj5cbiAgICAgICAgICAgICc7IGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJjcmlja2V0X25ld3NfMiI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmlubmVySFRNTCArPSAnXG4gICAgICAgICAgICAgICAgPGRpdiBpZD0idGFib29sYS1jcmlja2V0LW5ld3MtdGh1bWJuYWlscy0yIj48L2Rpdj5cbiAgICAgICAgICAgICc7IGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJjcmlja2V0X25ld3NfMyI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmlubmVySFRNTCArPSAnXG4gICAgICAgICAgICAgICAgPGRpdiBpZD0idGFib29sYS1jcmlja2V0LW5ld3MtdGh1bWJuYWlscy0zIj48L2Rpdj5cbiAgICAgICAgICAgICc7IGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJzY29yZV9jYXJkIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuaW5uZXJIVE1MICs9ICdcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ0YWJvb2xhLXNjb3JlLWNhcmQtdGh1bWJuYWlscyI+PC9kaXY+XG4gICAgICAgICAgICAnOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAic2NvcmVfY2FyZF8yIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuaW5uZXJIVE1MICs9ICdcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ0YWJvb2xhLXNjb3JlLWNhcmQtdGh1bWJuYWlscy0yIj48L2Rpdj5cbiAgICAgICAgICAgICc7IGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJ3ZWJfc3RvcmllcyI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmlubmVySFRNTCArPSAnXG4gICAgICAgICAgICAgICAgPGRpdiBpZD0idGFib29sYS13ZWItc3Rvcmllcy10aHVtYm5haWxzIj48L2Rpdj5cbiAgICAgICAgICAgICc7IGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJ3ZWJfc3Rvcmllc18yIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuaW5uZXJIVE1MICs9ICdcbiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ0YWJvb2xhLXdlYi1zdG9yaWVzLXRodW1ibmFpbHMtMiI+PC9kaXY+XG4gICAgICAgICAgICAnOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAid2ViX3N0b3JpZXNfMyI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmlubmVySFRNTCArPSAnXG4gICAgICAgICAgICAgICAgPGRpdiBpZD0idGFib29sYS13ZWItc3Rvcmllcy10aHVtYm5haWxzLTMiPjwvZGl2PlxuICAgICAgICAgICAgJzsgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInNjb3JlX2NhcmRfZmVlZF9lbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5pbm5lckhUTUwgKz0gJ1xuICAgICAgICAgICAgPGRpdiBpZD0idGFib29sYS1iZWxvdy1zY29yZS1jYXJkLXRodW1ibmFpbHMiPjwvZGl2PlxuICAgICAgICAgICAgJzsgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImNyaWNrZXRfbmV3c3RhYl9mZWVkX2VuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmlubmVySFRNTCArPSAnXG4gICAgICAgICAgICA8ZGl2IGlkPSJ0YWJvb2xhLWJlbG93LWNyaWNrZXQtbmV3cy10aHVtYm5haWxzIj48L2Rpdj5cbiAgICAgICAgICAgICAnOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAid2Vic3Rvcmllc19mZWVkX2VuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmlubmVySFRNTCArPSAnXG4gICAgICAgICAgICA8ZGl2IGlkPSJ0YWJvb2xhLWJlbG93LXdlYi1zdG9yaWVzLXRodW1ibmFpbHMiPjwvZGl2PlxuICAgICAgICAgICAgICcgfSByZXR1cm4gYSB9LAogICAgICAgICAgICAgICAgbmUgPSBhKDExMCksCiAgICAgICAgICAgICAgICBvZSA9IHt9OwogICAgICAgICAgICBvZS5zdHlsZVRhZ1RyYW5zZm9ybSA9IF8oKSwgb2Uuc2V0QXR0cmlidXRlcyA9IGQoKSwgb2UuaW5zZXJ0ID0gYygpLmJpbmQobnVsbCwgImhlYWQiKSwgb2UuZG9tQVBJID0gaSgpLCBvZS5pbnNlcnRTdHlsZUVsZW1lbnQgPSB1KCksIG4oKShuZS5BLCBvZSksIG5lLkEgJiYgbmUuQS5sb2NhbHMgJiYgbmUuQS5sb2NhbHM7IHZhciBpZSA9IGEoNjgpLAogICAgICAgICAgICAgICAgc2UgPSB7fTsKICAgICAgICAgICAgc2Uuc3R5bGVUYWdUcmFuc2Zvcm0gPSBfKCksIHNlLnNldEF0dHJpYnV0ZXMgPSBkKCksIHNlLmluc2VydCA9IGMoKS5iaW5kKG51bGwsICJoZWFkIiksIHNlLmRvbUFQSSA9IGkoKSwgc2UuaW5zZXJ0U3R5bGVFbGVtZW50ID0gdSgpLCBuKCkoaWUuQSwgc2UpLCBpZS5BICYmIGllLkEubG9jYWxzICYmIGllLkEubG9jYWxzOyB2YXIgY2UgPSBhKDU4NCksCiAgICAgICAgICAgICAgICBsZSA9IHt9OwogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gZGUoZSkgeyByZXR1cm4gZGUgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uKGUpIHsgcmV0dXJuIHR5cGVvZiBlIH0gOiBmdW5jdGlvbihlKSB7IHJldHVybiBlICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCAmJiBlLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgZSAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIGUgfSwgZGUoZSkgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gbWUoKSB7IG1lID0gZnVuY3Rpb24oKSB7IHJldHVybiB0IH07IHZhciBlLCB0ID0ge30sCiAgICAgICAgICAgICAgICAgICAgYSA9IE9iamVjdC5wcm90b3R5cGUsCiAgICAgICAgICAgICAgICAgICAgciA9IGEuaGFzT3duUHJvcGVydHksCiAgICAgICAgICAgICAgICAgICAgbiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmdW5jdGlvbihlLCB0LCBhKSB7IGVbdF0gPSBhLnZhbHVlIH0sCiAgICAgICAgICAgICAgICAgICAgbyA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCA/IFN5bWJvbCA6IHt9LAogICAgICAgICAgICAgICAgICAgIGkgPSBvLml0ZXJhdG9yIHx8ICJAQGl0ZXJhdG9yIiwKICAgICAgICAgICAgICAgICAgICBzID0gby5hc3luY0l0ZXJhdG9yIHx8ICJAQGFzeW5jSXRlcmF0b3IiLAogICAgICAgICAgICAgICAgICAgIGMgPSBvLnRvU3RyaW5nVGFnIHx8ICJAQHRvU3RyaW5nVGFnIjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZnVuY3Rpb24gbChlLCB0LCBhKSB7IHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgdCwgeyB2YWx1ZTogYSwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSwgZVt0XSB9IHRyeSB7IGwoe30sICIiKSB9IGNhdGNoIChlKSB7IGwgPSBmdW5jdGlvbihlLCB0LCBhKSB7IHJldHVybiBlW3RdID0gYSB9IH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZnVuY3Rpb24gZChlLCB0LCBhLCByKSB7IHZhciBvID0gdCAmJiB0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGIgPyB0IDogYiwKICAgICAgICAgICAgICAgICAgICAgICAgaSA9IE9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLAogICAgICAgICAgICAgICAgICAgICAgICBzID0gbmV3IGoociB8fCBbXSk7IHJldHVybiBuKGksICJfaW52b2tlIiwgeyB2YWx1ZTogVChlLCBhLCBzKSB9KSwgaSB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG0oZSwgdCwgYSkgeyB0cnkgeyByZXR1cm4geyB0eXBlOiAibm9ybWFsIiwgYXJnOiBlLmNhbGwodCwgYSkgfSB9IGNhdGNoIChlKSB7IHJldHVybiB7IHR5cGU6ICJ0aHJvdyIsIGFyZzogZSB9IH0gfSB0LndyYXAgPSBkOyB2YXIgdSA9ICJzdXNwZW5kZWRTdGFydCIsCiAgICAgICAgICAgICAgICAgICAgcCA9ICJzdXNwZW5kZWRZaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgXyA9ICJleGVjdXRpbmciLAogICAgICAgICAgICAgICAgICAgIGYgPSAiY29tcGxldGVkIiwKICAgICAgICAgICAgICAgICAgICBoID0ge307CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGIoKSB7fQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBmdW5jdGlvbiB2KCkge30KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZnVuY3Rpb24gZygpIHt9IHZhciB5ID0ge307CiAgICAgICAgICAgICAgICBsKHksIGksIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMgfSkpOyB2YXIgdyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwKICAgICAgICAgICAgICAgICAgICB4ID0gdyAmJiB3KHcoSShbXSkpKTsKICAgICAgICAgICAgICAgIHggJiYgeCAhPT0gYSAmJiByLmNhbGwoeCwgaSkgJiYgKHkgPSB4KTsgdmFyIGsgPSBnLnByb3RvdHlwZSA9IGIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh5KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZnVuY3Rpb24gQShlKSB7CiAgICAgICAgICAgICAgICAgICAgWyJuZXh0IiwgInRocm93IiwgInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpIHsgbChlLCB0LCAoZnVuY3Rpb24oZSkgeyByZXR1cm4gdGhpcy5faW52b2tlKHQsIGUpIH0pKSB9KSkgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBTKGUsIHQpIHsKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBhKG4sIG8sIGksIHMpIHsgdmFyIGMgPSBtKGVbbl0sIGUsIG8pOyBpZiAoInRocm93IiAhPT0gYy50eXBlKSB7IHZhciBsID0gYy5hcmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9IGwudmFsdWU7IHJldHVybiBkICYmICJvYmplY3QiID09IGRlKGQpICYmIHIuY2FsbChkLCAiX19hd2FpdCIpID8gdC5yZXNvbHZlKGQuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSkgeyBhKCJuZXh0IiwgZSwgaSwgcykgfSksIChmdW5jdGlvbihlKSB7IGEoInRocm93IiwgZSwgaSwgcykgfSkpIDogdC5yZXNvbHZlKGQpLnRoZW4oKGZ1bmN0aW9uKGUpIHsgbC52YWx1ZSA9IGUsIGkobCkgfSksIChmdW5jdGlvbihlKSB7IHJldHVybiBhKCJ0aHJvdyIsIGUsIGksIHMpIH0pKSB9IHMoYy5hcmcpIH0gdmFyIG87CiAgICAgICAgICAgICAgICAgICAgbih0aGlzLCAiX2ludm9rZSIsIHsgdmFsdWU6IGZ1bmN0aW9uKGUsIHIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG4oKSB7IHJldHVybiBuZXcgdCgoZnVuY3Rpb24odCwgbikgeyBhKGUsIHIsIHQsIG4pIH0pKSB9IHJldHVybiBvID0gbyA/IG8udGhlbihuLCBuKSA6IG4oKSB9IH0pIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZnVuY3Rpb24gVCh0LCBhLCByKSB7IHZhciBuID0gdTsgcmV0dXJuIGZ1bmN0aW9uKG8sIGkpIHsgaWYgKG4gPT09IF8pIHRocm93IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7IGlmIChuID09PSBmKSB7IGlmICgidGhyb3ciID09PSBvKSB0aHJvdyBpOyByZXR1cm4geyB2YWx1ZTogZSwgZG9uZTogITAgfSB9IGZvciAoci5tZXRob2QgPSBvLCByLmFyZyA9IGk7OykgeyB2YXIgcyA9IHIuZGVsZWdhdGU7IGlmIChzKSB7IHZhciBjID0gUChzLCByKTsgaWYgKGMpIHsgaWYgKGMgPT09IGgpIGNvbnRpbnVlOyByZXR1cm4gYyB9IH0gaWYgKCJuZXh0IiA9PT0gci5tZXRob2QpIHIuc2VudCA9IHIuX3NlbnQgPSByLmFyZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCJ0aHJvdyIgPT09IHIubWV0aG9kKSB7IGlmIChuID09PSB1KSB0aHJvdyBuID0gZiwgci5hcmc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgci5kaXNwYXRjaEV4Y2VwdGlvbihyLmFyZykgfSBlbHNlICJyZXR1cm4iID09PSByLm1ldGhvZCAmJiByLmFicnVwdCgicmV0dXJuIiwgci5hcmcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IF87IHZhciBsID0gbSh0LCBhLCByKTsgaWYgKCJub3JtYWwiID09PSBsLnR5cGUpIHsgaWYgKG4gPSByLmRvbmUgPyBmIDogcCwgbC5hcmcgPT09IGgpIGNvbnRpbnVlOyByZXR1cm4geyB2YWx1ZTogbC5hcmcsIGRvbmU6IHIuZG9uZSB9IH0gInRocm93IiA9PT0gbC50eXBlICYmIChuID0gZiwgci5tZXRob2QgPSAidGhyb3ciLCByLmFyZyA9IGwuYXJnKSB9IH0gfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBQKHQsIGEpIHsgdmFyIHIgPSBhLm1ldGhvZCwKICAgICAgICAgICAgICAgICAgICAgICAgbiA9IHQuaXRlcmF0b3Jbcl07IGlmIChuID09PSBlKSByZXR1cm4gYS5kZWxlZ2F0ZSA9IG51bGwsICJ0aHJvdyIgPT09IHIgJiYgdC5pdGVyYXRvci5yZXR1cm4gJiYgKGEubWV0aG9kID0gInJldHVybiIsIGEuYXJnID0gZSwgUCh0LCBhKSwgInRocm93IiA9PT0gYS5tZXRob2QpIHx8ICJyZXR1cm4iICE9PSByICYmIChhLm1ldGhvZCA9ICJ0aHJvdyIsIGEuYXJnID0gbmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAnIiArIHIgKyAiJyBtZXRob2QiKSksIGg7IHZhciBvID0gbShuLCB0Lml0ZXJhdG9yLCBhLmFyZyk7IGlmICgidGhyb3ciID09PSBvLnR5cGUpIHJldHVybiBhLm1ldGhvZCA9ICJ0aHJvdyIsIGEuYXJnID0gby5hcmcsIGEuZGVsZWdhdGUgPSBudWxsLCBoOyB2YXIgaSA9IG8uYXJnOyByZXR1cm4gaSA/IGkuZG9uZSA/IChhW3QucmVzdWx0TmFtZV0gPSBpLnZhbHVlLCBhLm5leHQgPSB0Lm5leHRMb2MsICJyZXR1cm4iICE9PSBhLm1ldGhvZCAmJiAoYS5tZXRob2QgPSAibmV4dCIsIGEuYXJnID0gZSksIGEuZGVsZWdhdGUgPSBudWxsLCBoKSA6IGkgOiAoYS5tZXRob2QgPSAidGhyb3ciLCBhLmFyZyA9IG5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0IiksIGEuZGVsZWdhdGUgPSBudWxsLCBoKSB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIEwoZSkgeyB2YXIgdCA9IHsgdHJ5TG9jOiBlWzBdIH07CiAgICAgICAgICAgICAgICAgICAgMSBpbiBlICYmICh0LmNhdGNoTG9jID0gZVsxXSksIDIgaW4gZSAmJiAodC5maW5hbGx5TG9jID0gZVsyXSwgdC5hZnRlckxvYyA9IGVbM10pLCB0aGlzLnRyeUVudHJpZXMucHVzaCh0KSB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIEUoZSkgeyB2YXIgdCA9IGUuY29tcGxldGlvbiB8fCB7fTsKICAgICAgICAgICAgICAgICAgICB0LnR5cGUgPSAibm9ybWFsIiwgZGVsZXRlIHQuYXJnLCBlLmNvbXBsZXRpb24gPSB0IH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZnVuY3Rpb24gaihlKSB7IHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogInJvb3QiIH1dLCBlLmZvckVhY2goTCwgdGhpcyksIHRoaXMucmVzZXQoITApIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZnVuY3Rpb24gSSh0KSB7IGlmICh0IHx8ICIiID09PSB0KSB7IHZhciBhID0gdFtpXTsgaWYgKGEpIHJldHVybiBhLmNhbGwodCk7IGlmICgiZnVuY3Rpb24iID09IHR5cGVvZiB0Lm5leHQpIHJldHVybiB0OyBpZiAoIWlzTmFOKHQubGVuZ3RoKSkgeyB2YXIgbiA9IC0xLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBmdW5jdGlvbiBhKCkgeyBmb3IgKDsgKytuIDwgdC5sZW5ndGg7KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIuY2FsbCh0LCBuKSkgcmV0dXJuIGEudmFsdWUgPSB0W25dLCBhLmRvbmUgPSAhMSwgYTsgcmV0dXJuIGEudmFsdWUgPSBlLCBhLmRvbmUgPSAhMCwgYSB9OyByZXR1cm4gby5uZXh0ID0gbyB9IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihkZSh0KSArICIgaXMgbm90IGl0ZXJhYmxlIikgfSByZXR1cm4gdi5wcm90b3R5cGUgPSBnLCBuKGssICJjb25zdHJ1Y3RvciIsIHsgdmFsdWU6IGcsIGNvbmZpZ3VyYWJsZTogITAgfSksIG4oZywgImNvbnN0cnVjdG9yIiwgeyB2YWx1ZTogdiwgY29uZmlndXJhYmxlOiAhMCB9KSwgdi5kaXNwbGF5TmFtZSA9IGwoZywgYywgIkdlbmVyYXRvckZ1bmN0aW9uIiksIHQuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGUpIHsgdmFyIHQgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBlICYmIGUuY29uc3RydWN0b3I7IHJldHVybiAhIXQgJiYgKHQgPT09IHYgfHwgIkdlbmVyYXRvckZ1bmN0aW9uIiA9PT0gKHQuZGlzcGxheU5hbWUgfHwgdC5uYW1lKSkgfSwgdC5tYXJrID0gZnVuY3Rpb24oZSkgeyByZXR1cm4gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsIGcpIDogKGUuX19wcm90b19fID0gZywgbChlLCBjLCAiR2VuZXJhdG9yRnVuY3Rpb24iKSksIGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShrKSwgZSB9LCB0LmF3cmFwID0gZnVuY3Rpb24oZSkgeyByZXR1cm4geyBfX2F3YWl0OiBlIH0gfSwgQShTLnByb3RvdHlwZSksIGwoUy5wcm90b3R5cGUsIHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMgfSkpLCB0LkFzeW5jSXRlcmF0b3IgPSBTLCB0LmFzeW5jID0gZnVuY3Rpb24oZSwgYSwgciwgbiwgbykgeyB2b2lkIDAgPT09IG8gJiYgKG8gPSBQcm9taXNlKTsgdmFyIGkgPSBuZXcgUyhkKGUsIGEsIHIsIG4pLCBvKTsgcmV0dXJuIHQuaXNHZW5lcmF0b3JGdW5jdGlvbihhKSA/IGkgOiBpLm5leHQoKS50aGVuKChmdW5jdGlvbihlKSB7IHJldHVybiBlLmRvbmUgPyBlLnZhbHVlIDogaS5uZXh0KCkgfSkpIH0sIEEoayksIGwoaywgYywgIkdlbmVyYXRvciIpLCBsKGssIGksIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMgfSkpLCBsKGssICJ0b1N0cmluZyIsIChmdW5jdGlvbigpIHsgcmV0dXJuICJbb2JqZWN0IEdlbmVyYXRvcl0iIH0pKSwgdC5rZXlzID0gZnVuY3Rpb24oZSkgeyB2YXIgdCA9IE9iamVjdChlKSwKICAgICAgICAgICAgICAgICAgICAgICAgYSA9IFtdOyBmb3IgKHZhciByIGluIHQpIGEucHVzaChyKTsgcmV0dXJuIGEucmV2ZXJzZSgpLAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBlKCkgeyBmb3IgKDsgYS5sZW5ndGg7KSB7IHZhciByID0gYS5wb3AoKTsgaWYgKHIgaW4gdCkgcmV0dXJuIGUudmFsdWUgPSByLCBlLmRvbmUgPSAhMSwgZSB9IHJldHVybiBlLmRvbmUgPSAhMCwgZSB9IH0sIHQudmFsdWVzID0gSSwgai5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBqLCByZXNldDogZnVuY3Rpb24odCkgeyBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IGUsIHRoaXMuZG9uZSA9ICExLCB0aGlzLmRlbGVnYXRlID0gbnVsbCwgdGhpcy5tZXRob2QgPSAibmV4dCIsIHRoaXMuYXJnID0gZSwgdGhpcy50cnlFbnRyaWVzLmZvckVhY2goRSksICF0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYSBpbiB0aGlzKSAidCIgPT09IGEuY2hhckF0KDApICYmIHIuY2FsbCh0aGlzLCBhKSAmJiAhaXNOYU4oK2Euc2xpY2UoMSkpICYmICh0aGlzW2FdID0gZSkgfSwgc3RvcDogZnVuY3Rpb24oKSB7IHRoaXMuZG9uZSA9ICEwOyB2YXIgZSA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uOyBpZiAoInRocm93IiA9PT0gZS50eXBlKSB0aHJvdyBlLmFyZzsgcmV0dXJuIHRoaXMucnZhbCB9LCBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24odCkgeyBpZiAodGhpcy5kb25lKSB0aHJvdyB0OyB2YXIgYSA9IHRoaXM7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBuKHIsIG4pIHsgcmV0dXJuIHMudHlwZSA9ICJ0aHJvdyIsIHMuYXJnID0gdCwgYS5uZXh0ID0gciwgbiAmJiAoYS5tZXRob2QgPSAibmV4dCIsIGEuYXJnID0gZSksICEhbiB9IGZvciAodmFyIG8gPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgbyA+PSAwOyAtLW8pIHsgdmFyIGkgPSB0aGlzLnRyeUVudHJpZXNbb10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IGkuY29tcGxldGlvbjsgaWYgKCJyb290IiA9PT0gaS50cnlMb2MpIHJldHVybiBuKCJlbmQiKTsgaWYgKGkudHJ5TG9jIDw9IHRoaXMucHJldikgeyB2YXIgYyA9IHIuY2FsbChpLCAiY2F0Y2hMb2MiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHIuY2FsbChpLCAiZmluYWxseUxvYyIpOyBpZiAoYyAmJiBsKSB7IGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gbihpLmNhdGNoTG9jLCAhMCk7IGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBuKGkuZmluYWxseUxvYykgfSBlbHNlIGlmIChjKSB7IGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gbihpLmNhdGNoTG9jLCAhMCkgfSBlbHNlIHsgaWYgKCFsKSB0aHJvdyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTsgaWYgKHRoaXMucHJldiA8IGkuZmluYWxseUxvYykgcmV0dXJuIG4oaS5maW5hbGx5TG9jKSB9IH0gfSB9LCBhYnJ1cHQ6IGZ1bmN0aW9uKGUsIHQpIHsgZm9yICh2YXIgYSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBhID49IDA7IC0tYSkgeyB2YXIgbiA9IHRoaXMudHJ5RW50cmllc1thXTsgaWYgKG4udHJ5TG9jIDw9IHRoaXMucHJldiAmJiByLmNhbGwobiwgImZpbmFsbHlMb2MiKSAmJiB0aGlzLnByZXYgPCBuLmZpbmFsbHlMb2MpIHsgdmFyIG8gPSBuOyBicmVhayB9IH0gbyAmJiAoImJyZWFrIiA9PT0gZSB8fCAiY29udGludWUiID09PSBlKSAmJiBvLnRyeUxvYyA8PSB0ICYmIHQgPD0gby5maW5hbGx5TG9jICYmIChvID0gbnVsbCk7IHZhciBpID0gbyA/IG8uY29tcGxldGlvbiA6IHt9OyByZXR1cm4gaS50eXBlID0gZSwgaS5hcmcgPSB0LCBvID8gKHRoaXMubWV0aG9kID0gIm5leHQiLCB0aGlzLm5leHQgPSBvLmZpbmFsbHlMb2MsIGgpIDogdGhpcy5jb21wbGV0ZShpKSB9LCBjb21wbGV0ZTogZnVuY3Rpb24oZSwgdCkgeyBpZiAoInRocm93IiA9PT0gZS50eXBlKSB0aHJvdyBlLmFyZzsgcmV0dXJuICJicmVhayIgPT09IGUudHlwZSB8fCAiY29udGludWUiID09PSBlLnR5cGUgPyB0aGlzLm5leHQgPSBlLmFyZyA6ICJyZXR1cm4iID09PSBlLnR5cGUgPyAodGhpcy5ydmFsID0gdGhpcy5hcmcgPSBlLmFyZywgdGhpcy5tZXRob2QgPSAicmV0dXJuIiwgdGhpcy5uZXh0ID0gImVuZCIpIDogIm5vcm1hbCIgPT09IGUudHlwZSAmJiB0ICYmICh0aGlzLm5leHQgPSB0KSwgaCB9LCBmaW5pc2g6IGZ1bmN0aW9uKGUpIHsgZm9yICh2YXIgdCA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyB0ID49IDA7IC0tdCkgeyB2YXIgYSA9IHRoaXMudHJ5RW50cmllc1t0XTsgaWYgKGEuZmluYWxseUxvYyA9PT0gZSkgcmV0dXJuIHRoaXMuY29tcGxldGUoYS5jb21wbGV0aW9uLCBhLmFmdGVyTG9jKSwgRShhKSwgaCB9IH0sIGNhdGNoOiBmdW5jdGlvbihlKSB7IGZvciAodmFyIHQgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgdCA+PSAwOyAtLXQpIHsgdmFyIGEgPSB0aGlzLnRyeUVudHJpZXNbdF07IGlmIChhLnRyeUxvYyA9PT0gZSkgeyB2YXIgciA9IGEuY29tcGxldGlvbjsgaWYgKCJ0aHJvdyIgPT09IHIudHlwZSkgeyB2YXIgbiA9IHIuYXJnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFKGEpIH0gcmV0dXJuIG4gfSB9IHRocm93IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKSB9LCBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbih0LCBhLCByKSB7IHJldHVybiB0aGlzLmRlbGVnYXRlID0geyBpdGVyYXRvcjogSSh0KSwgcmVzdWx0TmFtZTogYSwgbmV4dExvYzogciB9LCAibmV4dCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IGUpLCBoIH0gfSwgdCB9CiAgICAgICAgICAgIAogICAgICAgICAgICBmdW5jdGlvbiB1ZShlLCB0LCBhLCByLCBuLCBvLCBpKSB7IHRyeSB7IHZhciBzID0gZVtvXShpKSwKICAgICAgICAgICAgICAgICAgICAgICAgYyA9IHMudmFsdWUgfSBjYXRjaCAoZSkgeyByZXR1cm4gdm9pZCBhKGUpIH0gcy5kb25lID8gdChjKSA6IFByb21pc2UucmVzb2x2ZShjKS50aGVuKHIsIG4pIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIHBlKGUsIHQpIHsgdmFyIGEgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOwogICAgICAgICAgICAgICAgICAgIHQgJiYgKHIgPSByLmZpbHRlcigoZnVuY3Rpb24odCkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCB0KS5lbnVtZXJhYmxlIH0pKSksIGEucHVzaC5hcHBseShhLCByKSB9IHJldHVybiBhIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGZ1bmN0aW9uIF9lKGUpIHsgZm9yICh2YXIgdCA9IDE7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHsgdmFyIGEgPSBudWxsICE9IGFyZ3VtZW50c1t0XSA/IGFyZ3VtZW50c1t0XSA6IHt9OwogICAgICAgICAgICAgICAgICAgIHQgJSAyID8gcGUoT2JqZWN0KGEpLCAhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCkgeyBmZShlLCB0LCBhW3RdKSB9KSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGEpKSA6IHBlKE9iamVjdChhKSkuZm9yRWFjaCgoZnVuY3Rpb24odCkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgdCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLCB0KSkgfSkpIH0gcmV0dXJuIGUgfQogICAgICAgICAgICAKICAgICAgICAgICAgZnVuY3Rpb24gZmUoZSwgdCwgYSkgeyByZXR1cm4gKHQgPSBmdW5jdGlvbihlKSB7IHZhciB0ID0gZnVuY3Rpb24oZSkgeyBpZiAoIm9iamVjdCIgIT0gZGUoZSkgfHwgIWUpIHJldHVybiBlOyB2YXIgdCA9IGVbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gdCkgeyB2YXIgYSA9IHQuY2FsbChlLCAic3RyaW5nIik7IGlmICgib2JqZWN0IiAhPSBkZShhKSkgcmV0dXJuIGE7IHRocm93IG5ldyBUeXBlRXJyb3IoIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuIikgfSByZXR1cm4gU3RyaW5nKGUpIH0oZSk7IHJldHVybiAic3ltYm9sIiA9PSBkZSh0KSA/IHQgOiB0ICsgIiIgfSh0KSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCB0LCB7IHZhbHVlOiBhLCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVt0XSA9IGEsIGUgfSBsZS5zdHlsZVRhZ1RyYW5zZm9ybSA9IF8oKSwgbGUuc2V0QXR0cmlidXRlcyA9IGQoKSwgbGUuaW5zZXJ0ID0gYygpLmJpbmQobnVsbCwgImhlYWQiKSwgbGUuZG9tQVBJID0gaSgpLCBsZS5pbnNlcnRTdHlsZUVsZW1lbnQgPSB1KCksIG4oKShjZS5BLCBsZSksIGNlLkEgJiYgY2UuQS5sb2NhbHMgJiYgY2UuQS5sb2NhbHM7IHZhciBoZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi52aWV3IiksCiAgICAgICAgICAgICAgICBiZSA9IDAsCiAgICAgICAgICAgICAgICB2ZSA9ICJXb21lbidzIFdvcmxkIEN1cCAyMDI1IiwKICAgICAgICAgICAgICAgIGdlID0gW10sCiAgICAgICAgICAgICAgICB5ZSA9IGZ1bmN0aW9uKGUpIHsgc3dpdGNoIChlLmV2ZW50X25hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiVEFCX1NFTEVDVEVEIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZSAhPSBlLmRhdGEuaWQpIHsgYmUgPSBlLmRhdGEuaWQsIHZlID0gZS5kYXRhLnRvdXJuYW1lbnROYW1lOyB2YXIgdCA9IHsgc2VyaWVzX2lkOiBiZSwgc2VyaWVzX3RpdGxlOiB2ZSB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEppb05ld3NXaWRnZXQuc2VuZEFuYWx5dGljcygiY3JpY2tldF93aWRnZXRfaGVhZGVyX2NsaWNrX2ppb3R2IiwgX2UoX2Uoe30sIHEpLCB0KSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBMZSksIFIuaGFzU2Nyb2xsZWQgPSAhMSwgUi5taWxlc3RvbmVzID0geyAyNTogITEsIDUwOiAhMSwgNzU6ICExLCAxMDA6ICExIH0sIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBMZSk7IGZvciAodmFyIGEgPSAwOyBhIDwgZ2U7IGErKykgY2xlYXJJbnRlcnZhbChnZVthXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGUuaW5uZXJIVE1MID0gIiIsIFNlKGJlKSB9IGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJUQUJfSU5JVCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZSA9IGUuZGF0YS5pZCwgdmUgPSBlLmRhdGEudG91cm5hbWVudE5hbWUsIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBMZSkgfSB9LAogICAgICAgICAgICAgICAgd2UgPSBmdW5jdGlvbigpIHsgdmFyIGUsIHQsIGEsIHIsIG4sIG8sIGksIHMsIGMsIGwsIGQgPSAoZSA9IGJlLCBHLmZpbHRlcigoZnVuY3Rpb24odCkgeyByZXR1cm4gdC50b3VybmFtZW50X2lkID09IGUgfSkpWzBdKTsgaWYgKHhlKGQubWF0Y2hlc19saXZlLCBkLm1hdGNoZXNfdXBjb21pbmcsIGQubWF0Y2hlc19jb21wbGV0ZWQsIGQuc2VyaWVzX2lkKSwgbG9jYWxTdG9yYWdlKSB7IHZhciBtID0gImltcHJlc3Npb25fZmlyZWRfdGltZV9qaW90dl9jcmlja2V0X3dpZGdldCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0obSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHUgJiYgKHUgPSBwYXJzZUludCh1KSk7IHZhciBwID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHUgPyAodCA9IHUsIHIgPSAoYSA9IG5ldyBEYXRlKS5nZXREYXRlKCksIG4gPSBOdW1iZXIoYS5nZXRNb250aCgpKSArIDEsIG8gPSBhLmdldEZ1bGxZZWFyKCksIHMgPSAoaSA9IG5ldyBEYXRlKHQpKS5nZXREYXRlKCksIGMgPSBOdW1iZXIoaS5nZXRNb250aCgpKSArIDEsIGwgPSBpLmdldEZ1bGxZZWFyKCksIChyID4gcyB8fCBuID4gYyB8fCBvID4gbCkgJiYgKGxvY2FsU3RvcmFnZS5zZXRJdGVtKG0sIHApLCBKaW9OZXdzV2lkZ2V0LnNlbmRBbmFseXRpY3MoImNyaWNrZXRfd2lkZ2V0X2ltcHJlc3Npb25zX0ppb1RWIiwgX2Uoe30sIHEpKSkpIDogKGxvY2FsU3RvcmFnZS5zZXRJdGVtKG0sIHApLCBKaW9OZXdzV2lkZ2V0LnNlbmRBbmFseXRpY3MoImNyaWNrZXRfd2lkZ2V0X2ltcHJlc3Npb25zX0ppb1RWIiwgX2Uoe30sIHEpKSkgfSB9LAogICAgICAgICAgICAgICAgeGUgPSBmdW5jdGlvbihlLCB0LCBhLCByKSB7IHZhciBuID0gMDsgaWYgKDAgPT0gZS5sZW5ndGgpIHsga2UodCksIEFlKGEpLCBhZSgpOyB2YXIgbyA9IHJlKDEsICJzY29yZV9jYXJkIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaGUucXVlcnlTZWxlY3RvckFsbCgiLmNhcmQiKVswXS5xdWVyeVNlbGVjdG9yQWxsKCIuY2FyZF9fbWF0Y2gtc3RhdHVzLXJvdyIpWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBudWxsID09IGkgfHwgaS5pbnNlcnRBZGphY2VudEVsZW1lbnQoImFmdGVyZW5kIiwgbyksIHdpbmRvdy5fdGFib29sYSA9IHdpbmRvdy5fdGFib29sYSB8fCBbXSwgX3RhYm9vbGEucHVzaCh7IG1vZGU6ICJ0aHVtYm5haWxzLXNjb3JlLWNhcmQtbW9iIiwgY29udGFpbmVyOiAidGFib29sYS1zY29yZS1jYXJkLXRodW1ibmFpbHMiLCBwbGFjZW1lbnQ6ICJTY29yZSBDYXJkIFRodW1ibmFpbHMiLCB0YXJnZXRfdHlwZTogIm1peCIgfSkgfSBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHMgPSBmdW5jdGlvbihyKSB7IHZhciBvID0gImh0dHBzOi8vY2Rud2lkZ2V0YXBpLmppb25ld3MuY29tL3YxL3BhZ2VzL21hdGNoL2RldGFpbHM/bGFuZz1lbiZzZXJpZXNJZD0iLmNvbmNhdChlW3JdLnNlcmllc0lkLCAiJm1hdGNoSWQ9IikuY29uY2F0KGVbcl0ubWF0Y2hJZCwgIiZzb3VyY2U9amlvdHZfY3JpY2tldCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEuZ2V0UmVxdWVzdChvLCB7IEF1dGhvcml6YXRpb246ICJCYXNpYyBhbWx2ZFhObGNqcHFhVzlWSkROeU1USXoiIH0sIChmdW5jdGlvbihvKSB7IHZhciBpLCBzLCBjID0gWChvKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBvLmxpdmVQZXJmb3JtYW5jZSA/IGVlKG8pIDoge30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkID0gby5saXZlUGVyZm9ybWFuY2UgPyB0ZShvKSA6IHt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbSA9IG51bGwgIT0gbyAmJiBudWxsICE9PSAoaSA9IG8ucmVjZW50QmFsbENvbW1lbnRhcnkpICYmIHZvaWQgMCAhPT0gaSAmJiBpLmJhbGxDb21tZW50cyA/ICQobnVsbCA9PSBvIHx8IG51bGwgPT09IChzID0gby5yZWNlbnRCYWxsQ29tbWVudGFyeSkgfHwgdm9pZCAwID09PSBzID8gdm9pZCAwIDogcy5iYWxsQ29tbWVudHMpIDoge307CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlLmFwcGVuZENoaWxkKFcoYywgbCwgZCwgbSwgMCA9PSByID8gInRydWUiIDogImZhbHNlIiwgMCA9PSByID8gInRydWUiIDogImZhbHNlIiwgby5saXZlUGVyZm9ybWFuY2UpKTsgdmFyIHUgPSBoZS5xdWVyeVNlbGVjdG9yQWxsKCIuY2FyZF9fbWF0Y2gtc3RhdHVzLXJvdyIpWzBdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZSgpOyB2YXIgcCA9IHJlKDEsICJzY29yZV9jYXJkIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgPT0gdSB8fCB1Lmluc2VydEFkamFjZW50RWxlbWVudCgiYWZ0ZXJlbmQiLCBwKSwgd2luZG93Ll90YWJvb2xhID0gd2luZG93Ll90YWJvb2xhIHx8IFtdLCBfdGFib29sYS5wdXNoKHsgbW9kZTogInRodW1ibmFpbHMtc2NvcmUtY2FyZC1tb2IiLCBjb250YWluZXI6ICJ0YWJvb2xhLXNjb3JlLWNhcmQtdGh1bWJuYWlscyIsIHBsYWNlbWVudDogIlNjb3JlIENhcmQgVGh1bWJuYWlscyIsIHRhcmdldF90eXBlOiAibWl4IiB9KTsgdmFyIF8gPSBzZXRJbnRlcnZhbCgoZnVuY3Rpb24oKSB7IFRlKGMubWF0Y2hJZCwgYy5zZXJpZXNJZCwgcikgfSksIDJlNCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlLnB1c2goXyksICsrbiA9PSBlLmxlbmd0aCAmJiAoa2UodCksIEFlKGEpKSB9KSwgKGZ1bmN0aW9uKGUpIHsgY29uc29sZS5sb2coZSkgfSkpIH0sIGMgPSAwOyBjIDwgZS5sZW5ndGg7IGMrKykgcyhjKSB9LAogICAgICAgICAgICAgICAga2UgPSBmdW5jdGlvbihlKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykgaGUuYXBwZW5kQ2hpbGQoVyhlW3RdKSkgfSwKICAgICAgICAgICAgICAgIEFlID0gZnVuY3Rpb24oZSkgeyBmb3IgKHZhciB0ID0gZS5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSkgaGUuYXBwZW5kQ2hpbGQoVyhlW3RdKSkgfSwKICAgICAgICAgICAgICAgIFNlID0gZnVuY3Rpb24oKSB7IHZhciBlLCB0ID0gKGUgPSBtZSgpLm1hcmsoKGZ1bmN0aW9uIGUodCkgeyB2YXIgYSwgciwgbiwgbywgaSwgcywgYywgbCwgZCwgbSwgdTsgcmV0dXJuIG1lKCkud3JhcCgoZnVuY3Rpb24oZSkgeyBmb3IgKDs7KSBzd2l0Y2ggKGUucHJldiA9IGUubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgPSB7IEF1dGhvcml6YXRpb246ICJCYXNpYyBhbWx2ZFhObGNqcHFhVzlWSkROeU1USXoiIH0sIHIgPSBbXSwgbiA9IGZ1bmN0aW9uKGUpIHsgcmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLCBuKSB7IHZhciBvID0gImh0dHBzOi8vY2Rud2lkZ2V0YXBpLmppb25ld3MuY29tL3YxL3BhZ2VzL21hdGNoL3NlYXJjaD9sYW5nPWVuJm1vZGU9Qk9USCZzb3J0PURBVEVfQVNDJmZpbHRlclNlcmllc0lkcz0iLmNvbmNhdCh0LCAiJnBhZ2U9IikuY29uY2F0KGUsICImcmVjb3Jkcz01MCZzb3VyY2U9amlvdHZfY3JpY2tldCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEuZ2V0UmVxdWVzdChvLCBhLCAoZnVuY3Rpb24odCkgeyB0ICYmIHQucmVzdWx0cyA/IHIodCkgOiBuKCJGYWlsZWQgdG8gZmV0Y2ggcGFnZSAiLmNvbmNhdChlKSkgfSksIChmdW5jdGlvbihlKSB7IG4oZSkgfSkpIH0pKSB9LCBlLnByZXYgPSAzLCBlLm5leHQgPSA2LCBuKDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8gPSBlLnNlbnQsIHIgPSByLmNvbmNhdChvKSwgaSA9IG8udG90YWwsICEoKHMgPSBNYXRoLmNlaWwoaSAvIDUwKSkgPiAxKSkgeyBlLm5leHQgPSAyNTsgYnJlYWsgfSBjID0gW10sIGwgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGwgPD0gcykpIHsgZS5uZXh0ID0gMjE7IGJyZWFrIH0gcmV0dXJuIGUubmV4dCA9IDE2LCBuKGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBlLnNlbnQsIGMucHVzaChkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsKyssIGUubmV4dCA9IDEzOyBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5uZXh0ID0gMjMsIFByb21pc2UuYWxsKGMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobSA9IGUuc2VudCkubGVuZ3RoID4gMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodSA9IDA7IHUgPCBtLmxlbmd0aDsgdSsrKSByWzBdLnJlc3VsdHMgPSByWzBdLnJlc3VsdHMuY29uY2F0KG1bdV0ucmVzdWx0cyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgclswXS5yZXN1bHRzID0gclswXS5yZXN1bHRzLmNvbmNhdChtWzBdLnJlc3VsdHMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFoodCwgclswXS5yZXN1bHRzKSwgd2UoKSwgZS5uZXh0ID0gMzI7IGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldiA9IDI5LCBlLnQwID0gZS5jYXRjaCgzKSwgY29uc29sZS5lcnJvcigiRXJyb3IgZmV0Y2hpbmcgdG91cm5hbWVudCBtYXRjaGVzOiIsIGUudDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuc3RvcCgpIH0gfSksIGUsIG51bGwsIFsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFszLCAyOV0KICAgICAgICAgICAgICAgICAgICAgICAgXSkgfSkpLCBmdW5jdGlvbigpIHsgdmFyIHQgPSB0aGlzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IGFyZ3VtZW50czsgcmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLCBuKSB7IHZhciBvID0gZS5hcHBseSh0LCBhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gaShlKSB7IHVlKG8sIHIsIG4sIGksIHMsICJuZXh0IiwgZSkgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzKGUpIHsgdWUobywgciwgbiwgaSwgcywgInRocm93IiwgZSkgfSBpKHZvaWQgMCkgfSkpIH0pOyByZXR1cm4gZnVuY3Rpb24oZSkgeyByZXR1cm4gdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIH0gfSgpLAogICAgICAgICAgICAgICAgVGUgPSBmdW5jdGlvbihlLCB0LCBhKSB7IHZhciByID0gaGUucXVlcnlTZWxlY3RvcigiLmNhcmRbbWF0Y2hpZD0nIi5jb25jYXQoZSwgIiddIikpOyBpZiAocikgeyB2YXIgbiA9IHIuZ2V0QXR0cmlidXRlKCJpcy1vcGVuIik7IGlmIChyKSB7IHZhciBvID0gImh0dHBzOi8vY2Rud2lkZ2V0YXBpLmppb25ld3MuY29tL3YxL3BhZ2VzL21hdGNoL2RldGFpbHM/bGFuZz1lbiZzZXJpZXNJZD0iLmNvbmNhdCh0LCAiJm1hdGNoSWQ9IikuY29uY2F0KGUsICImc291cmNlPWppb3R2X2NyaWNrZXQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEEuZ2V0UmVxdWVzdChvLCB7IEF1dGhvcml6YXRpb246ICJCYXNpYyBhbWx2ZFhObGNqcHFhVzlWSkROeU1USXoiIH0sIChmdW5jdGlvbihlKSB7IHZhciB0LCBvLCBpID0gWChlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IGUubGl2ZVBlcmZvcm1hbmNlID8gZWUoZSkgOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGUubGl2ZVBlcmZvcm1hbmNlID8gdGUoZSkgOiB7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IG51bGwgIT0gZSAmJiBudWxsICE9PSAodCA9IGUucmVjZW50QmFsbENvbW1lbnRhcnkpICYmIHZvaWQgMCAhPT0gdCAmJiB0LmJhbGxDb21tZW50cyA/ICQobnVsbCA9PSBlIHx8IG51bGwgPT09IChvID0gZS5yZWNlbnRCYWxsQ29tbWVudGFyeSkgfHwgdm9pZCAwID09PSBvID8gdm9pZCAwIDogby5iYWxsQ29tbWVudHMpIDoge307IGlmICgwID09IGEpIHsgci5xdWVyeVNlbGVjdG9yKCIuY2FyZF9fbWlkZGxlLXJvdyIpLnJlcGxhY2VXaXRoKEooaSwgIm1pZGRsZS1yb3ciKSksIHIucXVlcnlTZWxlY3RvcigiLmNhcmRfX21hdGNoLXN0YXR1cy1yb3ciKS5yZXBsYWNlV2l0aChKKGksICJtYXRjaC1zdGF0dXMtcm93IikpOyB2YXIgZCA9IHIucXVlcnlTZWxlY3RvcigiLmNhcmRfX3Njb3JlLXRhYmxlLXJvdyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsID09IGQgfHwgZC5yZXBsYWNlV2l0aChEKHMsIGMsIGwsICJzY29yZS10YWJsZSIsIG4pKTsgdmFyIG0gPSByLnF1ZXJ5U2VsZWN0b3IoIi5jYXJkX19iYWxsLWJ5LWJhbGwtcm93Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgPT0gbSB8fCBtLnJlcGxhY2VXaXRoKEQocywgYywgbCwgImJhbGwtYnktYmFsbC1yb3ciLCBuKSk7IHZhciB1ID0gci5xdWVyeVNlbGVjdG9yKCIuY2FyZF9fY29tbWVudGFyeSIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcCA9IEQocywgYywgbCwgImNvbW1lbnRhcnktYm94Iiwgbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgPT0gdSB8fCB1LnJlcGxhY2VXaXRoKHApIH0gZWxzZSByLnJlcGxhY2VXaXRoKFcoaSwgcywgYywgbCwgbiwgImZhbHNlIiwgZS5saXZlUGVyZm9ybWFuY2UpKSB9KSwgKGZ1bmN0aW9uKGUpIHsgY29uc29sZS5sb2coZSkgfSkpIH0gfSBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2U7IGkrKykgY2xlYXJJbnRlcnZhbChnZVtpXSkgfSwKICAgICAgICAgICAgICAgIFBlID0gZnVuY3Rpb24oZSwgdCkgeyB2YXIgYSA9IHsgc2VyaWVzX2lkOiBiZSwgc2VyaWVzX3RpdGxlOiB2ZSB9OwogICAgICAgICAgICAgICAgICAgIEppb05ld3NXaWRnZXQuc2VuZEFuYWx5dGljcygicGFnZV9zY3JvbGxfY3JpY2tldF9qaW90diIsIF9lKF9lKF9lKHt9LCBxKSwgYSksIHt9LCB7IHBhZ2Vfc2Nyb2xsOiBlLCBzY3JvbGxfY291bnQ6IHQgfSkpIH0sCiAgICAgICAgICAgICAgICBMZSA9IGZ1bmN0aW9uKCkgeyB2YXIgZSA9ICh3aW5kb3cuc2Nyb2xsWSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSAvIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgKiAxMDAsCiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBSOwogICAgICAgICAgICAgICAgICAgIHQuaGFzU2Nyb2xsZWQgfHwgKFBlKE1hdGguY2VpbChlKSwgMSksIHQuaGFzU2Nyb2xsZWQgPSAhMCksIGUgPj0gMjUgJiYgIXQubWlsZXN0b25lc1syNV0gJiYgKFBlKE1hdGguY2VpbChlKSwgMiksIHQubWlsZXN0b25lc1syNV0gPSAhMCksIGUgPj0gNTAgJiYgIXQubWlsZXN0b25lc1s1MF0gJiYgKFBlKE1hdGguY2VpbChlKSwgMiksIHQubWlsZXN0b25lc1s1MF0gPSAhMCksIGUgPj0gNzUgJiYgIXQubWlsZXN0b25lc1s3NV0gJiYgKFBlKE1hdGguY2VpbChlKSwgMyksIHQubWlsZXN0b25lc1s3NV0gPSAhMCksIGUgPj0gMTAwICYmICF0Lm1pbGVzdG9uZXNbMTAwXSAmJiAoUGUoTWF0aC5jZWlsKGUpLCA0KSwgdC5taWxlc3RvbmVzWzEwMF0gPSAhMCkgfTsKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIChmdW5jdGlvbigpIHsgdmFyIGUgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpLmdldCgidGhlbWUiKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gImRhcmsiID09PSBlID8gInRoZW1lLWRhcmsiIDogInRoZW1lLWxpZ2h0IjsgdmFyIHQgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJwcm9kIikgPiAtMSA/ICI4UjUtNEs1LTQ2NloiIDogIlRFU1QtOVI1LTRLNS00NjZaIjsKCgoKCmNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7CmNvbnN0IHRvdXJuYW1lbnRJZHggPSB1cmxQYXJhbXMuZ2V0KCd0b3VybmFtZW50aWQnKTsKY29uc29sZS5sb2codG91cm5hbWVudElkeCk7IC8vIE91dHB1dHM6IDE3MDY4CgoKCgoKCgoKICAgICAgICAgICAgICAgIEppb05ld3NXaWRnZXQuaW5pdCh7IGNvbW1vbkFuYWx5dGljc0RhdGE6IHEsIHdpZGdldE9wdGlvbjoge30sIGN0QWNjb3VudElkOiB0IH0pLnRoZW4oKGZ1bmN0aW9uKCkgeyBZLnN1YnNjcmliZSgiYXBwX19ldmVudHMiLCB5ZSksIEEuZ2V0UmVxdWVzdCgiaHR0cHM6Ly93aWRnZXQuamlvbmV3cy5jb20vZGF0YS93aWRnZXQtZGF0YS90b3VybmFtZW50cy5qc29uIiwge30sIChmdW5jdGlvbihlKSB7IGUudG91cm5hbWVudHMgPSBbeyB0b3VybmFtZW50SW5kZXg6IDEsIHRvcm5hbWVudE5hbWU6ICJXb21lbidzIFdvcmxkIEN1cCAyMDI1IiwgdG91cm5hbWVudElkOiB0b3VybmFtZW50SWR4IH1dLCBiZSA9IGUudG91cm5hbWVudHNbMF0udG91cm5hbWVudElkLCBTZShiZSkgfSksIChmdW5jdGlvbihlKSB7IGNvbnNvbGUubG9nKGUpIH0pKSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmZvb3RlciIpLmNsYXNzTGlzdC5yZW1vdmUoImZvb3Rlci0taGlkZGVuIikgfSkpIH0pKSB9KSgpOwogICAgPC9zY3JpcHQ+CiAgICA8c2NyaXB0PgogIGZ1bmN0aW9uIGNsb3NlUG9wdXAoKSB7IAogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgCiAgfQoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkgewogICAgc2V0VGltZW91dCgoKSA9PiB7IAogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOyAKICAgIH0sIDMwMDApOyAKICB9KTsKPC9zY3JpcHQ+Cgo8L2JvZHk+CjwvaHRtbD4K"; 
        
        function decryptAndExecute() {
            try {
                let original = decodeURIComponent(escape(atob(encrypted)));
                document.open();
                document.write(original);
                document.close();
            } catch (e) {
                document.write('<h1 style="color:red; text-align: center; margin-top: 50px;">DECRYPTION ERROR!</h1><p style="text-align: center;">' + e.message + '</p>');
            }
        }
        decryptAndExecute();
    </script>
</body>
</html>
